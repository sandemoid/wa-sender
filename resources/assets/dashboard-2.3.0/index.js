import{o as r,c as l,a as e,n as c,w as v,F as k,r as C,t as u,b as d,v as P,d as S,e as h,f as m,g as M,h as x,i as U,j as T,k as L,l as z,T as b,m as F,p as w,q as E,s as $,u as D,x as j,y as H}from"./vendor.js";const N=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))p(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&p(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function p(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}};N();var A={isURL(t){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(t)},randomString(t=0,o=""){if(o.length<=t){const n=Math.random().toString(36).slice(2);return this.randomString(t,o.concat(n))}return o.slice(0,t)},getBaseApiURL:function(){return window.webApp.apiUrl},getApiKey:function(){return window.webApp.apiToken}};var y=(t,o)=>{const n=t.__vccOpts||t;for(const[p,i]of o)n[p]=i;return n};const K={data(){return{contacts:[{id:1,name:"John Wick",phone:"123456789"},{id:2,name:"John Snow",phone:"123456789"},{id:3,name:"John Budwick",phone:"123456789"},{id:4,name:"John Smith",phone:"123456789"},{id:5,name:"John Doe",phone:"123456789"}],recipientMode:"search",recentContacts:[1,2,3],fieldMessageType:"text",fieldToType:"phone",fieldToValue:"",fieldHeaderType:"text",fieldHeaderValue:"Ini text header",fieldBody:"Ini text body",fieldFooter:"Ini text Value",fieldButton:"Menu",fieldButtons:[{id:"yes",title:"Yes"},{id:"no",title:"No"}],fieldSections:[{title:"Hello",buttons:[{id:"no",title:"Merah",description:"Warna merah merona"},{id:"no",title:"Kuning",description:"Warna Kuning merona"},{id:"no",title:"Hijau",description:"Warna Hijau merona"},{id:"no",title:"Hitam",description:"Warna Hitam merona"}]}]}},methods:{},computed:{contactFromHistory(){return this.contacts.filter(function(t){return this.recentContacts.indexOf(t.id)>-1}.bind(this))},hasFieldHeader(){return["button-reply","button-list"].indexOf(this.fieldMessageType)>-1},hasFieldAttachment(){return["image","document"].indexOf(this.fieldMessageType)>-1},hasFieldFooter(){return["button-reply","button-list"].indexOf(this.fieldMessageType)>-1},hasFieldButton(){return["button-list"].indexOf(this.fieldMessageType)>-1},hasFieldButtons(){return["button-reply"].indexOf(this.fieldMessageType)>-1},hasFieldSection(){return["button-list"].indexOf(this.fieldMessageType)>-1}}},R={class:"msg-composer"},O={class:"inner"},G=e("div",{class:"header"},"Send message",-1),q={class:"content"},J=e("div",{class:"form-group"},[e("label",{for:""},"Name"),e("div",{class:"input-wrap"},[e("input",{type:"text",class:"form-control",placeholder:"Nama template"})])],-1),W=e("label",{for:""},"Penerima",-1),Q={class:"input-wrap"},Y={class:"contact-input"},Z=e("input",{type:"text",class:"form-control"},null,-1),X={class:"menu-wrap"},ee={class:"contact-selector"},oe={class:"search-wrap"},te=e("input",{type:"text",class:"form-control"},null,-1),ie={class:"menu-wrap"},se={class:"result-wrap"},ne={class:"contact-result-history"},ae={href:""},re={class:"contact-result-list"},le={href:""},pe=e("div",{class:"error-wrap"},null,-1),de={class:"form-group"},ce=e("label",{for:""},"Tipe pesan",-1),ue={class:"input-wrap"},_e=M('<option value="text">Text</option><option value="image">Image</option><option value="document">Document</option><option value="button-reply">Button reply</option><option value="button-list">Button list</option>',5),he=[_e],me={key:0,class:"form-group"},ve=M('<div for="">Attachment</div><div class="input-wrap"><div class="preview"><div class="preview-wrap"></div></div><label for="field-attachment"><span class="icon">icon</span><span class="msg">Attachment</span></label><input id="field-attachment" type="file" placeholder="Header text"></div>',2),ge=[ve],fe={key:1,class:"form-group"},be=e("label",{for:""},"Header",-1),ye=e("div",{class:"input-wrap"},[e("input",{type:"text",placeholder:"Header text"})],-1),we=[be,ye],Ae={class:"form-group"},ke=e("label",{for:""},"Body",-1),Ce={class:"input-wrap"},Te={key:2,class:"form-group"},Se=e("label",{for:""},"Footer",-1),Ue={class:"input-wrap"},xe=e("h3",null,"Action",-1),Me={key:3,class:"form-group"},Be=e("label",{for:""},"Button",-1),Ie={class:"input-wrap"},Le={key:4,class:"form-group"},Pe=e("label",{for:""},"Buttons",-1),Fe={class:"input-wrap"},Ve={class:"options"},ze={class:"col"},Ee=["onUpdate:modelValue"],$e=M('<div class="col"><a href="#">Autoreply</a></div><div class="col"><a href="">-</a><a href="">+</a></div>',2),De={key:5,class:"form-group"},je=e("label",{for:""},"Sections",-1),He={class:"input-wrap"},Ne={class:"button-section-item"},Ke={class:"wrap wrap-section"},Re=["onUpdate:modelValue"],Oe={class:"options"},Ge={class:"col"},qe=["onUpdate:modelValue"],Je={class:"col"},We=["onUpdate:modelValue"],Qe=e("div",{class:"col"},[e("a",{href:""},"-"),e("a",{href:""},"+")],-1),Ye=e("div",{class:"action-bar"},[e("button",null,"Save")],-1),Ze=e("a",{href:""},"Add section",-1);function Xe(t,o,n,p,i,a){return r(),l("div",R,[e("div",O,[G,e("div",q,[J,e("div",{class:c(["form-group fg-to",{search:i.recipientMode=="search",input:i.recipientMode=="input"}])},[W,e("div",Q,[e("div",Y,[Z,e("div",X,[e("a",{href:"#",onClick:o[0]||(o[0]=v(s=>i.recipientMode="search",["prevent"]))},"Cari")])]),e("div",ee,[e("div",oe,[te,e("div",ie,[e("a",{href:"#",onClick:o[1]||(o[1]=v(s=>i.recipientMode="input",["prevent"]))},"Input manual")])]),e("div",se,[e("ul",ne,[(r(!0),l(k,null,C(a.contactFromHistory,(s,g)=>(r(),l("li",null,[e("a",ae,u(s.name),1)]))),256))]),e("ul",re,[(r(!0),l(k,null,C(i.contacts,(s,g)=>(r(),l("li",null,[e("a",le,u(s.name),1)]))),256))])])])]),pe],2),e("div",de,[ce,e("div",ue,[d(e("select",{name:"",id:"","onUpdate:modelValue":o[2]||(o[2]=s=>i.fieldMessageType=s)},he,512),[[P,i.fieldMessageType]]),S(" "+u(i.fieldMessageType),1)])]),a.hasFieldAttachment?(r(),l("div",me,ge)):h("",!0),a.hasFieldHeader?(r(),l("div",fe,we)):h("",!0),e("div",Ae,[ke,e("div",Ce,[d(e("textarea",{name:"",id:"",cols:"30",rows:"10","onUpdate:modelValue":o[3]||(o[3]=s=>i.fieldBody=s)},null,512),[[m,i.fieldBody]])])]),a.hasFieldFooter?(r(),l("div",Te,[Se,e("div",Ue,[d(e("input",{type:"text",placeholder:"Footer text","onUpdate:modelValue":o[4]||(o[4]=s=>i.fieldFooter=s)},null,512),[[m,i.fieldFooter]])])])):h("",!0),xe,a.hasFieldButton?(r(),l("div",Me,[Be,e("div",Ie,[d(e("input",{type:"text",placeholder:"Button","onUpdate:modelValue":o[5]||(o[5]=s=>i.fieldButton=s)},null,512),[[m,i.fieldButton]])])])):h("",!0),a.hasFieldButtons?(r(),l("div",Le,[Pe,e("div",Fe,[(r(!0),l(k,null,C(i.fieldButtons,(s,g)=>(r(),l("div",Ve,[e("div",ze,[d(e("input",{type:"text",placeholder:"Button","onUpdate:modelValue":_=>s.title=_},null,8,Ee),[[m,s.title]])]),$e]))),256))])])):h("",!0),a.hasFieldSection?(r(),l("div",De,[je,e("div",He,[(r(!0),l(k,null,C(i.fieldSections,(s,g)=>(r(),l("div",Ne,[e("div",Ke,[d(e("input",{type:"text",placeholder:"Section name","onUpdate:modelValue":_=>s.title=_},null,8,Re),[[m,s.title]])]),(r(!0),l(k,null,C(s.buttons,(_,f)=>(r(),l("div",Oe,[e("div",Ge,[d(e("input",{type:"text",placeholder:"title","onUpdate:modelValue":I=>_.title=I},null,8,qe),[[m,_.title]])]),e("div",Je,[d(e("input",{type:"text",placeholder:"description","onUpdate:modelValue":I=>_.description=I},null,8,We),[[m,_.description]])]),Qe]))),256)),Ye]))),256)),Ze])])):h("",!0)])])])}var eo=y(K,[["render",Xe]]);const oo={data(){return{loading:!1,appName:"OneSender",appLogo:'<img src="//osassets.plugin.my.id/onesender-logo-100x100.png">',versi:"2.0.0",isDebug:!1,account:{name:"user@guest.com",photo:window.webApp.userPhoto},UIHeader:{mobileDrawerToggle:!1,drawerToggle:!0,usermenuToggle:!1},composeMessageToggled:!1}},methods:{getFeeds(){setInterval(function(){this.doGetFeeds()}.bind(this),5e3)},doGetFeeds(){let t=this.getBaseApiURL()+"/feeds";fetch(t,{method:"GET",headers:{Authorization:"Bearer "+this.getBaseApiKey()}}).then(o=>o.json()).then(function(o){o.code==200&&(this.$store.dispatch("loadFeeds",o.data),window.localStorage.setItem("data_feeds",JSON.stringify(o.data)))}.bind(this))},toggleTopMenuUser:function(){let t=this.UIHeader.usermenuToggle;this.UIHeader.usermenuToggle=t!=!0},doToggleMobileDrawer:function(){let t=this.UIHeader.mobileDrawerToggle;this.UIHeader.mobileDrawerToggle=t!=!0},doToggleDrawer:function(){let t=this.UIHeader.drawerToggle;this.UIHeader.drawerToggle=t!=!0,console.log("toggle item"),console.log(this.UIHeader.drawerToggle),window.localStorage.setItem("drawer_toggled",t==!0?"no":"yes")},toggleComposeMessage:function(t){this.composeMessageToggled==!0?this.composeMessageToggled=!1:this.composeMessageToggled=!0},doLogout:function(){console.log("signout"),this.loading=!0;let t=this.getBaseApiURL()+"/logout",o=this.getBaseApiKey();console.log(t+"|"+o),this.$store.getters.engineBuildVersion<=2307&&(o=this.$store.state.api_key),fetch(t,{method:"GET",headers:{Authorization:"Bearer "+o}}).then(n=>n.json()).then(function(n){this.loading=!1,n.code==200&&window.location.reload()}.bind(this))},getBaseApiURL:function(){return window.webApp.apiUrl},getBaseApiKey:function(){return window.webApp.apiToken}},computed:{drawerIsToggled(){let t=window.localStorage.getItem("drawer_toggled");var o=!0;return t==null?o=this.UIHeader.drawerToggle:o=t=="yes",o}},watch:{$route(t,o){this.sideMenuToggled==!0&&(this.sideMenuToggled=!1)}},mounted(){this.doGetFeeds(),this.getFeeds();let t=this.getBaseApiURL();this.$store.dispatch("updateData",{key:"api_url",value:t}),window.addEventListener("resize",function(p){this.UIHeader={mobileDrawerToggle:!1,drawerToggle:!0,usermenuToggle:!1}}.bind(this));var o=window.localStorage.getItem("drawer_toggled");o==="yes"&&(this.UIHeader.drawerToggle=!0);var n=window.localStorage.getItem("drawer_mobile_toggled");n==="yes"&&(this.UIHeader.mobileDrawerToggle=!0)},components:{NewComposer:eo}},to={class:"site"},io={class:"container-fluid"},so={class:"branding"},no={href:"/",class:"logo branding-name"},ao=["innerHTML"],ro={class:"label"},lo={key:0,class:"icon"},po=e("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M11 12h6v-1l-3-1V2l3-1V0H3v1l3 1v8l-3 1v1h6v7l1 1 1-1v-7z"})],-1),co=[po],uo={key:1,class:"icon"},_o=e("svg",{version:"1.1",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"m3 0v1l3 1v0.60547l8 6.1582v-6.7637l3-1v-1h-14zm-0.48828 2.6934-1.3398 1.7422 4.8281 3.7168v1.8477l-3 1v1h6v7l1 1 1-1v-6.998l6.4883 4.9941 1.3398-1.7402-12.828-9.877-3.4883-2.6855zm14.32 8.25 0.16797 0.13086v-0.074219l-0.16797-0.056641z"})],-1),ho=[_o],mo=e("span",{class:"icon"},[e("i",{class:"ion-md-close"})],-1),vo=[mo],go={class:"main-menu side-menu"},fo=e("span",{class:"icon"},[e("i",{class:"ion-md-home"})],-1),bo=e("span",{class:"label"},"Dashboard",-1),yo=e("span",{class:"icon"},[e("i",{class:"ion-md-mail"})],-1),wo=e("span",{class:"label"},"Messages",-1),Ao=e("span",{class:"icon"},[e("i",{class:"ion-md-chatbubbles"})],-1),ko=e("span",{class:"label"},"Auto Reply",-1),Co=e("span",{class:"icon"},[e("i",{class:"ion-md-settings"})],-1),To=e("span",{class:"label"},"Setting",-1),So={class:"user-menu side-menu"},Uo=e("span",{class:"icon"},[e("i",{class:"ion-md-log-out"})],-1),xo=e("span",{class:"label"},"Sign out",-1),Mo=[Uo,xo],Bo={class:"site-content"},Io={class:"container"},Lo={class:"content-header block block-dash-header"},Po={class:"body"},Fo={class:"flex justify valign-middle"},Vo=e("div",{class:"content-device-menu"},null,-1),zo={class:"content-user-menu flex"},Eo=e("div",{class:"dh-group menu-group-help"},[e("a",{href:"https://onesender.net/docs/",target:"_blank"},[e("i",{class:"ion-md-help-circle"})])],-1),$o=["src"],Do={class:"dropdown"},jo=e("span",{class:"icon"},[e("i",{class:"ion-md-contact"})],-1),Ho=e("span",{class:"label"},"Profile",-1),No=e("span",{class:"icon"},[e("i",{class:"ion-md-log-out"})],-1),Ko=e("span",{class:"label"},"Sign out",-1),Ro=[No,Ko],Oo={class:"dh-group menu-mobile-toggle"},Go=e("i",{class:"ion-md-menu"},null,-1),qo=[Go],Jo={class:"content-main"},Wo={class:"dashboard-version",style:{"margin-top":"2rem","font-size":"14px",color:"rgba(1,1,1,0.5)"}},Qo=e("vue-snotify",null,null,-1);function Yo(t,o,n,p,i,a){const s=x("RouterLink"),g=x("RouterView");return r(),l(k,null,[e("div",to,[e("wrapper",null,[e("header",{class:c(["site-header",{toggled:i.UIHeader.drawerToggle,"mobile-toggled":i.UIHeader.mobileDrawerToggle}])},[e("div",io,[e("div",so,[e("a",no,[e("span",{class:"logo",innerHTML:i.appLogo},null,8,ao),e("span",ro,u(i.appName),1)]),e("a",{href:"#",class:"pin-menu",onClick:o[0]||(o[0]=v((..._)=>a.doToggleDrawer&&a.doToggleDrawer(..._),["prevent"]))},[i.UIHeader.drawerToggle?(r(),l("span",lo,co)):h("",!0),i.UIHeader.drawerToggle?h("",!0):(r(),l("span",uo,ho))]),i.UIHeader.mobileDrawerToggle?(r(),l("a",{key:0,href:"#",class:"pin-mobile-toggle",onClick:o[1]||(o[1]=v((..._)=>a.doToggleMobileDrawer&&a.doToggleMobileDrawer(..._),["prevent"]))},vo)):h("",!0)]),e("div",go,[U(s,{to:"/",onClick:a.doToggleMobileDrawer},{default:T(()=>[fo,bo]),_:1},8,["onClick"]),t.$store.getters.engineBuildVersion>2310?(r(),L(s,{key:0,to:"/message",onClick:a.doToggleMobileDrawer},{default:T(()=>[yo,wo]),_:1},8,["onClick"])):h("",!0),t.$store.getters.engineBuildVersion>2304?(r(),L(s,{key:1,to:"/autoresponse",onClick:a.doToggleMobileDrawer},{default:T(()=>[Ao,ko]),_:1},8,["onClick"])):h("",!0),U(s,{to:"/setting",onClick:a.doToggleMobileDrawer},{default:T(()=>[Co,To]),_:1},8,["onClick"])]),e("div",So,[e("a",{href:"#",onClick:o[2]||(o[2]=v((..._)=>a.doLogout&&a.doLogout(..._),["prevent"])),class:"user-menu-item menu-item"},Mo)])])],2),e("div",Bo,[e("div",Io,[e("div",Lo,[e("div",Po,[e("wrapper",Fo,[Vo,e("div",zo,[Eo,e("div",{class:c(["dh-group menu-group-user",{toggled:i.UIHeader.usermenuToggle}])},[e("a",{href:"#",onClick:o[3]||(o[3]=v((..._)=>a.toggleTopMenuUser&&a.toggleTopMenuUser(..._),["prevent"]))},[e("img",{src:i.account.photo},null,8,$o)]),e("div",Do,[U(s,{to:"/profile",onClick:a.doToggleMobileDrawer},{default:T(()=>[jo,Ho]),_:1},8,["onClick"]),e("a",{href:"",onClick:o[4]||(o[4]=v((..._)=>a.doLogout&&a.doLogout(..._),["prevent"]))},Ro)])],2),e("div",Oo,[e("a",{href:"#",onClick:o[5]||(o[5]=v((..._)=>a.doToggleMobileDrawer&&a.doToggleMobileDrawer(..._),["prevent"]))},qo)])])])])]),e("div",Jo,[S(u(t.$store.getters.onlineStatus)+" ",1),U(g),e("div",Wo," Dashboard: "+u(t.$store.state.versi)+" ("+u(t.$store.state.buildDate)+"). Engine: "+u(t.$store.getters.engineVersion)+" ("+u(t.$store.getters.engineBuildVersion)+") ",1)])])])])]),Qo],64)}var Zo=y(oo,[["render",Yo]]);const Xo={props:["active"],data(){return{filePreview:null,hasImage:!1,contacts:["foos","bars","bazs"]}},computed:{filePreviewBackground:function(){return"url("+this.filePreview+")"}},methods:{chooseFile(){this.$refs.fileInput.click()},selectImgFile(){let o=this.$refs.fileInput.files;if(o&&o[0]){let n=new FileReader;n.onload=p=>{console.log(p.target.result),this.filePreview=p.target.result,this.hasImage=!0},n.readAsDataURL(o[0]),this.$emit("fileInput",o[0],this.filePreview),console.log(o[0])}}}},et=Xo,ot=e("label",{for:"field-attachment-image"},"Select image",-1);function tt(t,o,n,p,i,a){return r(),l("div",{class:c(["image-uploader",{"has-image":t.hasImage}])},[e("div",{class:"preview-image-block",onClick:o[0]||(o[0]=(...s)=>t.chooseFile&&t.chooseFile(...s)),style:z({"background-image":t.filePreviewBackground})},null,4),ot,e("div",null,[e("input",{class:"field-attachment-image",ref:"fileInput",type:"file",id:"field-attachment-image",onInput:o[1]||(o[1]=(...s)=>t.selectImgFile&&t.selectImgFile(...s))},null,544)])],2)}var it=y(et,[["render",tt]]);const st={data(){return{messageForm:{toStr:"",to:[],recipientType:"individual",messageType:"text",text:{body:""},image:{base64:"",name:"",lastModified:0,size:0,type:""},document:{id:""},date:""},UIForm:{recipient:{stateString:"",state:-1,errorMsg:""},textBody:{stateString:"",state:-1,errorMsg:""}},isActive:!0,contacts:["foos","bars","bazs"]}},computed:{messageRecipients:function(){return this.messageForm.to.join(",")},messageRecipientIsGroup:{get(){return this.messageForm.recipientType==="group"},set(t){let o=t==!0?"group":"individual";this.messageForm.recipientType=o}}},created(){},mounted(){setInputFilter()},methods:{onFileInput:function(t,o){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){this.messageForm.image={base64:n.result,name:t.name,lastModified:t.lastModified,size:t.size,type:t.type}}.bind(this)},openComposeBox:function(){console.log("Open compose box")},resetFormSendMessage:function(){this.UIForm={recipient:{stateString:"",state:-1,errorMsg:""},textBody:{stateString:"",state:-1,errorMsg:""}}},sendMessage:function(){var t=!0,o=document.getElementById("btn-send-message-box");console.log(JSON.stringify(this.messageForm));let n=this.validatePhoneNumbers(this.messageForm.toStr);if(n.success||(this.UIForm.recipient={stateString:"invalid",state:0,errorMsg:n.message},t=!1),this.messageForm.text.body.trim().length<1&&(this.UIForm.textBody={stateString:"invalid",state:0,errorMsg:"Message empty"}),t){console.log("send message"),o.innerHTML="Loading";let p=this.getBaseApiURL()+"/v1/messages",i="individual";this.messageForm.toStr.indexOf("@g.us")>-1&&(i="group");let a={to:n.outputArrayPhone.join(","),recipient_type:i,type:"text",text:{body:this.messageForm.text.body}};fetch(p,{method:"POST",headers:{Authorization:"Bearer "+this.getBaseApiKey()},body:JSON.stringify(a)}).then(s=>s.json()).then(function(s){o.innerHTML="Send message",s.code==200?(window.localStorage.setItem("messageForm.toStr",""),window.localStorage.setItem("messageForm.textBody",""),this.messageForm.toStr="",this.messageForm.text.body="",b({text:"Send message success",className:"info",style:{background:"#198754"}}).showToast()):b({text:"Error",className:"danger",style:{background:"#dc3545"}}).showToast()}.bind(this))}},filterNumber:function(t){t=t||window.event;var o=t.which?t.which:t.keyCode;if(console.log(o),o>31&&(o<48||o>57)&&o!==45&&o!==44)if([64,115,46,119,104,97,116,112,99,111,109,103,115,110,101,117].indexOf(o)==-1)t.preventDefault();else return!0;else return!0},validatePhoneNumbers:function(t){var o=!0,n="",p=[],i=[],a=!1;if(t.length>0){window.localStorage.setItem("messageForm.toStr",t);let s=t.split(","),g=[];for(let _=0;_<s.length;_++){let f=s[_].trim();f.length>0&&g.push(f)}for(let _=0;_<g.length;_++){let f=g[_];i.push(f),(f.indexOf("@s.whatsapp.net")||f.indexOf("@g.us"))&&(f=f.replace("@s.whatsapp.net",""),f=f.replace("@g.us","")),/^[0-9\-]*$/.test(f)||(o=!1,p.push(`<b>${f}</b> is not a valid phone number`)),f.length<8&&(o=!1,p.push(`<b>${f}</b> is too short`))}if(g.length>1)for(let _=0;_<g.length;_++)(!/^[\-]*$/.test(g[_])||g[_].indexOf("@g.us")>-1)&&(a=!0)}return a&&(o=!1,p.push("Can't mix group with individual message")),p.length>0&&(n=p.join(". ")),{success:o,message:n,errors:p,outputArrayPhone:i}},getBaseApiURL:function(){let t=window.location.protocol,o=window.location.host;return`${t}//${o}/api`},getBaseApiKey:function(){var t=window.localStorage.getItem("_base_api_key");return t==null?this.$store.state.api_key:t}},mounted(){console.log("build compose box");let t=window.localStorage.getItem("messageForm.toStr");t!=null&&(this.messageForm.toStr=t);let o=window.localStorage.getItem("messageForm.textBody");o!=null&&(this.messageForm.text.body=o)},watch:{isActive:function(t){console.log("child.isActive"),console.log(t)},messageForm:{handler(t,o){let n=t.toStr.trim();n.length>0&&window.localStorage.setItem("messageForm.toStr",n);let p=t.text.body.trim();p.length>0&&window.localStorage.setItem("messageForm.textBody",p),console.log(t.text)},deep:!0}},components:{UploadImage:it}},nt=st,at={class:"compose-message",id:"compose-message"},rt=e("header",{class:"header flex justify"},[e("div",{class:"branding"}," Send text message "),e("div",{class:"action"})],-1),lt={class:"body"},pt=e("label",{for:"field-recipient"},"Recipients",-1),dt={class:"inner"},ct=["innerHTML"],ut=e("label",{for:"field-login"},"Message",-1),_t={class:"inner"},ht=["innerHTML"],mt={class:"action"};function vt(t,o,n,p,i,a){return r(),l("div",at,[rt,e("div",lt,[e("form-group",{class:c(["form-group form-group-recipient",{"is-invalid":t.UIForm.recipient.stateString=="invalid"}])},[pt,e("div",dt,[d(e("input",{type:"text",name:"recipient",id:"field-recipient",class:"form-control compose-field",placeholder:"6281200000001",onFocus:o[0]||(o[0]=(...s)=>t.resetFormSendMessage&&t.resetFormSendMessage(...s)),onKeypress:o[1]||(o[1]=s=>t.filterNumber(s)),"onUpdate:modelValue":o[2]||(o[2]=s=>t.messageForm.toStr=s)},null,544),[[m,t.messageForm.toStr]]),e("div",{class:"error-message desc",innerHTML:t.UIForm.recipient.errorMsg},null,8,ct)])],2),e("form-group",{class:c(["form-group form-group-message",{"is-invalid":t.UIForm.textBody.stateString=="invalid"}])},[ut,e("div",_t,[d(e("textarea",{name:"message",id:"field-message",onFocus:o[3]||(o[3]=(...s)=>t.resetFormSendMessage&&t.resetFormSendMessage(...s)),class:"form-control compose-field","onUpdate:modelValue":o[4]||(o[4]=s=>t.messageForm.text.body=s)},null,544),[[m,t.messageForm.text.body]]),e("div",{class:"error-message desc",innerHTML:t.UIForm.textBody.errorMsg},null,8,ht)])],2)]),e("div",mt,[e("button",{onClick:o[5]||(o[5]=v((...s)=>t.sendMessage&&t.sendMessage(...s),["prevent"])),id:"btn-send-message-box",class:"btn btn-primary"},"Send message")])])}var V=y(nt,[["render",vt]]);const gt={},ft={class:"lds-wrap"},bt=e("div",{class:"lds-ring"},[e("div"),e("div"),e("div"),e("div")],-1),yt=[bt];function wt(t,o){return r(),l("div",ft,yt)}var At=y(gt,[["render",wt]]);const kt={data(){return{checkScan:!1,qrService:!1,qrCodeLogin:"",qrImage:"",UI:{scan:!0,stats:!0,command:!0,compose:!0,pageLoading:!1,scanLoading:!1,apikeyMasked:!0},commands:{disconnect_sender:{text:"Disconnect",timer:-1},stop_sender:{text:"Restart WhatsApp",timer:-1},start_sender:{text:"Start Sender",timer:-1},pause_sender:{text:"Pause Sender",timer:-1},stop_server:{text:"Restart Server",timer:-1},clear_pending_message:{text:"Delete pending msg",timer:-1}},timer:{disconnect_sender:null,stop_sender:null,start_sender:null,pause_sender:null,stop_server:null}}},methods:{commandTimer:function(t,o){var n=this.commands[t].timer;n--,n>=0?(this.commands[t].timer=n,console.log(`Timer ${n} of ${o}`)):window.location.reload()},sendCommand:function(t){console.log("Command: "+t),this.$store.dispatch("updateUICommands",{key:t,value:!0});var o={command:t};let n=this.getBaseApiURL()+"/command";console.log(n),fetch(n,{method:"POST",headers:{Authorization:"Bearer "+this.getBaseApiKey()},body:JSON.stringify(o)}).then(p=>p.json()).then(function(p){if(p.code==200){console.log(p);var i=10;t=="restart_server"&&(i=5),this.commands[t].timer=i,setInterval(this.commandTimer,1e3,t,i)}}.bind(this))},maskSerial(t){if(t!=null){var o=t.substring(10,t.length-5);return t.replaceAll(o,"*".repeat(o.length))}return""},copyTextToClipboard(t){var o=document.createElement("textarea");o.style.position="fixed",o.style.top=0,o.style.left=0,o.style.width="2em",o.style.height="2em",o.style.padding=0,o.style.border="none",o.style.outline="none",o.style.boxShadow="none",o.style.background="transparent",o.value=t,document.body.appendChild(o),o.focus(),o.select();try{var n=document.execCommand("copy"),p=n?"successful":"unsuccessful";console.log("Copying text command was "+p)}catch{console.log("Oops, unable to copy")}document.body.removeChild(o),b({text:"Text copied",className:"info",style:{background:"#198754"}}).showToast()},changeMaskApi(){this.UI.apikeyMasked=this.UI.apikeyMasked!=!0},getBaseApiURL:function(){let t=window.location.protocol,o=window.location.host;return`${t}//${o}/api`},getBaseApiKey:function(){var t=window.localStorage.getItem("_base_api_key");return t==null?"____________":t},renderQrCode:function(){if(this.qrCodeLogin.length>0){console.log("Render QRCode");var t=document.getElementById("qrcode");console.log(t),console.log(F),F.toDataURL(this.qrCodeLogin,function(o,n){this.UI.scanLoading=!1,this.qrImage=`<img src="${n}">`}.bind(this))}else console.log("Render QRCode Failed")},checkScanProcess:function(){console.log("Check scan process");let t=this.getBaseApiURL()+"/ping";fetch(t,{headers:{Authorization:"Bearer "+this.getBaseApiKey()}}).then(o=>o.json()).then(function(o){console.log("Ping"),console.log(o),o.code==200&&(o.data.qr_code.length>10&&(this.qrCodeLogin=o.data.qr_code,this.renderQrCode()),o.data.status=="online"&&(this.UI.scanLoading=!1,this.stopCheckScan()))}.bind(this))},startCheckScan:function(){console.log("Start check scan process"),this.qrService=setInterval(this.checkScanProcess,3e3)},stopCheckScan:function(){console.log("Stop check scan process"),clearInterval(this.qrService)},doScanQR:function(){console.log("doScanQR"),this.UI.scanLoading=!0,this.UI.checkScan=!1;let t=this.getBaseApiURL()+"/command";var o={command:"scanmd"};fetch(t,{method:"POST",headers:{Authorization:"Bearer "+this.getBaseApiKey()},body:JSON.stringify(o)}).then(n=>n.json()).then(function(n){this.UI.checkScan=!0,n.code==200&&this.startCheckScan()}.bind(this))},messageCommand(t){console.log("Do command: "+t);let o=this.getBaseApiURL()+"/v1/message-action/"+t;console.log(o),fetch(o,{method:"POST",headers:{Authorization:"Bearer "+this.getBaseApiKey()}}).then(n=>n.json()).then(function(n){n.code==200&&(console.log(n),t=="clear_pending"&&(this.commands.clear_pending_message.timer=5,setInterval(this.commandTimer,1e3,"clear_pending_message",5)))}.bind(this))}},computed:{labelCommandDisconnectSender(){let t=this.commands.disconnect_sender.text;return this.commands.disconnect_sender.timer>0&&(t=`<i>Loading ${this.commands.disconnect_sender.timer}</i>`),t},labelCommandStopSender(){let t=this.commands.stop_sender.text;return this.commands.stop_sender.timer>0&&(t=`<i>Loading ${this.commands.stop_sender.timer}</i>`),t},labelCommandPauseSender(){let t=this.commands.pause_sender.text;return this.commands.pause_sender.timer>0&&(t=`<i>Loading ${this.commands.pause_sender.timer}</i>`),t},labelCommandStartSender(){let t=this.commands.start_sender.text;return this.commands.start_sender.timer>0&&(t=`<i>Loading ${this.commands.start_sender.timer}</i>`),t},labelCommandStopServer(){let t=this.commands.stop_server.text;return this.commands.stop_server.timer>0&&(t=`<i>Loading ${this.commands.stop_server.timer}</i>`),t},labelCommandClearPendingMessage(){let t=this.commands.clear_pending_message.text;return this.commands.clear_pending_message.timer>0&&(t=`<i>Loading ${this.commands.clear_pending_message.timer}</i>`),t},apiUrlDisplay(){let t=window.location.protocol,o=window.location.host;return`${t}//${o}/api/`},apiKeyDisplay(){let t=this.$store.state.feeds.api_key;return this.UI.apikeyMasked?this.maskSerial(t):t}},components:{ComposeMessage:V,LoadingRing:At},mounted(){document.body.className="page-home",this.renderQrCode()}},Ct={class:"page-dashboard-home"},Tt={class:"wrap"},St={key:0},Ut=e("h3",{class:"section-title"},"Scan Qr",-1),xt={class:"connection-bar lds-gray"},Mt={class:"body"},Bt=e("div",{class:"qr-overlay"},[e("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 64 64",style:{"enable-background":"new 0 0 64 64"},"xml:space":"preserve"},[e("g",null,[e("rect",{x:"38",y:"23",width:"2",height:"5"}),e("rect",{x:"42",y:"23",width:"2",height:"5"}),e("rect",{x:"38",y:"30",width:"2",height:"2"}),e("rect",{x:"42",y:"30",width:"2",height:"2"}),e("rect",{x:"31",y:"34",width:"2",height:"2"}),e("rect",{x:"26",y:"54",width:"2",height:"2"}),e("rect",{x:"42",y:"34",width:"2",height:"2"}),e("rect",{x:"38",y:"38",width:"2",height:"2"}),e("rect",{x:"42",y:"38",width:"2",height:"2"}),e("path",{d:"M2,2h3V0H1C0.448,0,0,0.448,0,1v4h2V2z"}),e("path",{d:"M63,0h-4v2h3v3h2V1C64,0.448,63.552,0,63,0z"}),e("path",{d:"M2,59H0v4c0,0.552,0.448,1,1,1h4v-2H2V59z"}),e("path",{d:"M62,62h-3v2h4c0.552,0,1-0.448,1-1v-4h-2V62z"}),e("path",{d:"M4,5v12c0,0.552,0.448,1,1,1h12c0.552,0,1-0.448,1-1V5c0-0.552-0.448-1-1-1H5C4.448,4,4,4.448,4,5z M6,6h10v10H6V6z"}),e("path",{d:"M13,8H9C8.448,8,8,8.448,8,9v4c0,0.552,0.448,1,1,1h4c0.552,0,1-0.448,1-1V9C14,8.448,13.552,8,13,8z M12,12h-2v-2h2V12z"}),e("path",{d:`M47,18h12c0.552,0,1-0.448,1-1V5c0-0.552-0.448-1-1-1H47c-0.552,0-1,0.448-1,1v12C46,17.552,46.448,18,47,18z M48,6h10v10
                                        H48V6z`}),e("path",{d:`M55,8h-4c-0.552,0-1,0.448-1,1v4c0,0.552,0.448,1,1,1h4c0.552,0,1-0.448,1-1V9C56,8.448,55.552,8,55,8z M54,12h-2v-2h2V12z
                                        `}),e("path",{d:`M17,46H5c-0.552,0-1,0.448-1,1v12c0,0.552,0.448,1,1,1h12c0.552,0,1-0.448,1-1V47C18,46.448,17.552,46,17,46z M16,58H6V48
                                        h10V58z`}),e("path",{d:"M9,56h4c0.552,0,1-0.448,1-1v-4c0-0.552-0.448-1-1-1H9c-0.552,0-1,0.448-1,1v4C8,55.552,8.448,56,9,56z M10,52h2v2h-2V52z"}),e("path",{d:"M44,19h-7V7h-2v13c0,0.552,0.448,1,1,1h8V19z"}),e("rect",{x:"22",y:"12",width:"7",height:"2"}),e("rect",{x:"26",y:"8",width:"7",height:"2"}),e("rect",{x:"4",y:"19",width:"2",height:"9"}),e("path",{d:"M18,25H8v2h9v4h2v-5C19,25.448,18.552,25,18,25z"}),e("rect",{x:"9",y:"20",width:"2",height:"2"}),e("rect",{x:"21",y:"18",width:"2",height:"8"}),e("rect",{x:"21",y:"28",width:"9",height:"2"}),e("path",{d:"M61,29h-2v10h-3v2h4c0.552,0,1-0.448,1-1V29z"}),e("rect",{x:"26",y:"18",width:"2",height:"2"}),e("rect",{x:"4",y:"33",width:"2",height:"8"}),e("rect",{x:"4",y:"42",width:"9",height:"2"}),e("path",{d:"M50,28h2v-4c0-0.552-0.448-1-1-1h-5v2h4V28z"}),e("rect",{x:"9",y:"33",width:"2",height:"2"}),e("rect",{x:"20",y:"32",width:"2",height:"8"}),e("rect",{x:"20",y:"42",width:"9",height:"2"}),e("rect",{x:"8",y:"38",width:"9",height:"2"}),e("rect",{x:"21",y:"52",width:"2",height:"4"}),e("rect",{x:"20",y:"48",width:"9",height:"2"}),e("path",{d:"M36,44v-5c0-0.552-0.448-1-1-1H25v2h9v4H36z"}),e("rect",{x:"26",y:"32",width:"2",height:"2"}),e("rect",{x:"15",y:"34",width:"2",height:"2"}),e("rect",{x:"59",y:"53",width:"2",height:"7"}),e("rect",{x:"54",y:"58",width:"3",height:"2"}),e("rect",{x:"54",y:"52",width:"2",height:"4"}),e("path",{d:"M61,44c0-0.552-0.448-1-1-1H49v2h10v6h2V44z"}),e("path",{d:"M48,56v-5c0-0.552-0.448-1-1-1H36v2h10v4H48z"}),e("rect",{x:"50",y:"47",width:"7",height:"2"}),e("rect",{x:"20",y:"58",width:"7",height:"2"}),e("rect",{x:"30",y:"51",width:"2",height:"9"}),e("rect",{x:"32",y:"46",width:"4",height:"2"}),e("path",{d:"M47,36h5v-2h-4v-6h-2v7C46,35.552,46.448,36,47,36z"}),e("rect",{x:"50",y:"30",width:"5",height:"2"}),e("rect",{x:"54",y:"20",width:"3",height:"2"}),e("rect",{x:"59",y:"20",width:"2",height:"5"}),e("rect",{x:"54",y:"25",width:"2",height:"2"}),e("path",{d:"M39,17h4c0.552,0,1-0.448,1-1V3h-2v12h-3V17z"}),e("path",{d:"M24,5h15V3H23c-0.552,0-1,0.448-1,1v5h2V5z"}),e("path",{d:"M25,24h7c0.552,0,1-0.448,1-1v-8h-2v7h-6V24z"}),e("rect",{x:"34",y:"23",width:"2",height:"4"}),e("rect",{x:"36",y:"54",width:"7",height:"2"}),e("rect",{x:"36",y:"58",width:"9",height:"2"}),e("path",{d:"M50,58h-2v2h3c0.552,0,1-0.448,1-1v-8h-2V58z"}),e("rect",{x:"16",y:"42",width:"2",height:"2"}),e("rect",{x:"39",y:"42",width:"4",height:"2"}),e("rect",{x:"46",y:"38",width:"2",height:"3"}),e("rect",{x:"45",y:"43",width:"2",height:"2"}),e("rect",{x:"39",y:"46",width:"3",height:"2"}),e("rect",{x:"50",y:"38",width:"2",height:"2"}),e("rect",{x:"54",y:"34",width:"3",height:"2"}),e("rect",{x:"35",y:"34",width:"5",height:"2"}),e("rect",{x:"34",y:"29",width:"2",height:"3"})])])],-1),It={id:"qrcode"},Lt=["innerHTML"],Pt=e("div",{class:"message qr-message"},null,-1),Ft={class:"action"},Vt=e("div",{class:"desc"},"Tautkan akun WhatsApp anda dengan scan QR",-1),zt=e("h3",{class:"section-title"},"Account info",-1),Et={class:"account-info-block"},$t={class:"body"},Dt={class:"form-info"},jt=e("div",{class:"label"},"Status",-1),Ht={class:"value"},Nt={class:"form-info"},Kt=e("div",{class:"label"},"Phone number",-1),Rt={class:"value"},Ot={class:"form-info"},Gt=e("div",{class:"label"},"Api url",-1),qt={class:"value"},Jt={class:"form-info form-info-api-key"},Wt=e("div",{class:"label"},"Api key",-1),Qt={class:"value"},Yt={class:"api-code"},Zt=e("i",{class:"ion-md-copy"},null,-1),Xt=[Zt],ei={key:1},oi=e("h3",{class:"section-title"},"Stats",-1),ti={class:"stats-bar flex wrap"},ii=e("div",{class:"icon color-warning"},[e("i",{class:"ion-ios-cloud-done"})],-1),si={class:"body"},ni=e("div",{class:"label"},"Pending",-1),ai={class:"value"},ri=e("div",{class:"icon color-danger"},[e("i",{class:"ion-ios-cloud-done"})],-1),li={class:"body"},pi=e("div",{class:"label"},"Error",-1),di={class:"value"},ci=e("div",{class:"icon color-success"},[e("i",{class:"ion-ios-cloud-done"})],-1),ui={class:"body"},_i=e("div",{class:"label"},"Sent",-1),hi={class:"value"},mi=e("div",{class:"icon color-success"},[e("i",{class:"ion-ios-cloud-done"})],-1),vi={class:"body"},gi=e("div",{class:"label"},"Sent today",-1),fi={class:"value"},bi={key:2},yi=e("h3",{class:"section-title"},"Command",-1),wi={class:"command-bar"},Ai=e("span",{class:"icon ion-md-log-out"},null,-1),ki=["innerHTML"],Ci=e("span",{class:"icon ion-md-refresh"},null,-1),Ti=["innerHTML"],Si=["innerHTML"],Ui=["innerHTML"],xi=e("span",{class:"icon ion-md-refresh-circle"},null,-1),Mi=["innerHTML"],Bi=e("span",{class:"icon ion-md-trash"},null,-1),Ii=["innerHTML"],Li={key:3},Pi=e("h3",{class:"section-title"},"Send Message",-1);function Fi(t,o,n,p,i,a){const s=x("LoadingRing"),g=x("ComposeMessage");return r(),l("section",Ct,[e("div",Tt,[t.$store.state.feeds.status!=="online"?(r(),l("div",St,[Ut,e("div",xt,[e("div",Mt,[e("div",{class:c(["qr-wrap",{"has-qr":i.qrCodeLogin.length>10}])},[i.UI.scanLoading?(r(),L(s,{key:0})):h("",!0),Bt,e("div",It,[i.qrImage.length>0?(r(),l("span",{key:0,innerHTML:i.qrImage},null,8,Lt)):h("",!0)])],2),Pt]),e("div",Ft,[Vt,e("button",{onClick:o[0]||(o[0]=v((..._)=>a.doScanQR&&a.doScanQR(..._),["prevent"])),class:"btn btn-primary"},"Scan QR")])])])):h("",!0),e("div",null,[zt,e("div",Et,[e("div",$t,[e("form-info",Dt,[jt,e("div",Ht,[e("span",{class:c(["pill",{success:t.$store.state.feeds.status=="online",danger:t.$store.state.feeds.status=="offline"}])},u(t.$store.state.feeds.status),3)])]),e("form-info",Nt,[Kt,e("div",Rt,u(t.$store.state.feeds.phone),1)]),e("form-info",Ot,[Gt,e("div",qt,u(a.apiUrlDisplay)+"v1/messages",1)]),e("form-info",Jt,[Wt,e("div",Qt,[e("span",Yt,u(a.apiKeyDisplay),1),e("a",{href:"#",onClick:o[1]||(o[1]=v((..._)=>a.changeMaskApi&&a.changeMaskApi(..._),["prevent"]))},[e("i",{class:c({"ion-md-eye":i.UI.apikeyMasked,"ion-md-eye-off":!i.UI.apikeyMasked})},null,2)]),e("a",{href:"#",onClick:o[2]||(o[2]=v(_=>a.copyTextToClipboard(t.$store.state.feeds.api_key),["prevent"]))},Xt)])])])])]),i.UI.stats?(r(),l("div",ei,[oi,e("div",ti,[e("stat-card",null,[ii,e("div",si,[ni,e("div",ai,u(t.$store.state.feeds.stats.message_pending),1)])]),e("stat-card",null,[ri,e("div",li,[pi,e("div",di,u(t.$store.state.feeds.stats.message_error),1)])]),e("stat-card",null,[ci,e("div",ui,[_i,e("div",hi,u(t.$store.state.feeds.stats.message_sent),1)])]),e("stat-card",null,[mi,e("div",vi,[gi,e("div",fi,u(t.$store.state.feeds.stats.message_sent_today),1)])])])])):h("",!0),i.UI.command?(r(),l("div",bi,[yi,e("div",wi,[e("button",{onClick:o[3]||(o[3]=v(_=>a.sendCommand("disconnect_sender"),["prevent"])),class:c(["btn btn-outline-primary btn-command",{"is-loading":t.$store.state.UI.commandsLoading.disconnect}])},[Ai,e("span",{class:"label",innerHTML:a.labelCommandDisconnectSender},null,8,ki)],2),e("button",{onClick:o[4]||(o[4]=v(_=>a.sendCommand("stop_sender"),["prevent"])),class:c(["btn btn-outline-primary btn-command",{"is-loading":t.$store.state.UI.commandsLoading.restartSender}])},[Ci,e("span",{class:"label",innerHTML:a.labelCommandStopSender},null,8,Ti)],2),t.$store.state.feeds.sender_pause?h("",!0):(r(),l("button",{key:0,onClick:o[5]||(o[5]=v(_=>a.sendCommand("pause_sender"),["prevent"])),class:c(["btn btn-outline-primary btn-command",{"is-loading":t.$store.state.UI.commandsLoading.pause}])},[e("span",{class:c(["icon ion-md-pause",{"ion-md-pause":!t.$store.state.feeds.sender_pause,"ion-md-play":t.$store.state.feeds.sender_pause}])},null,2),e("span",{class:"label",innerHTML:a.labelCommandPauseSender},null,8,Si)],2)),t.$store.state.feeds.sender_pause?(r(),l("button",{key:1,onClick:o[6]||(o[6]=v(_=>a.sendCommand("start_sender"),["prevent"])),class:c(["btn btn-outline-primary btn-command",{"is-loading":t.$store.state.UI.commandsLoading.pause}])},[e("span",{class:c(["icon ion-md-pause",{"ion-md-pause":!t.$store.state.feeds.sender_pause,"ion-md-play":t.$store.state.feeds.sender_pause}])},null,2),e("span",{class:"label",innerHTML:a.labelCommandStartSender},null,8,Ui)],2)):h("",!0),e("button",{onClick:o[7]||(o[7]=v(_=>a.sendCommand("stop_server"),["prevent"])),class:c(["btn btn-outline-primary btn-command",{"is-loading":t.$store.state.UI.commandsLoading.restartServer}])},[xi,e("span",{class:"label",innerHTML:a.labelCommandStopServer},null,8,Mi)],2),t.$store.getters.engineBuildVersion>=2330?(r(),l("button",{key:2,onClick:o[8]||(o[8]=v(_=>a.messageCommand("clear_pending"),["prevent"])),class:c(["btn btn-outline-primary btn-command",{"is-loading":t.$store.state.UI.commandsLoading.clearPendingMessage}])},[Bi,e("span",{class:"label",innerHTML:a.labelCommandClearPendingMessage},null,8,Ii)],2)):h("",!0)])])):h("",!0),i.UI.compose?(r(),l("div",Li,[Pi,U(g)])):h("",!0)])])}var Vi=y(kt,[["render",Fi]]);const zi={data(){return{composeBoxOpen:!1,activeSetting:"global",contacts:[{id:1,photo:"",initial:"JS",name:"John Snow",phone:"6289508618321",jid:"6289508618321@s.wahtsapp.net",snippet:"Apa kabar"},{id:2,photo:"",initial:"JW",name:"John Wick",phone:"6289508618321",jid:"6289508618321@s.wahtsapp.net",snippet:"Apa kabar"}],messages:[],messageIndex:0,isSingle:!1,activeContact:{name:"John Snow",phone:"6289508618321",jid:"6289508618321@s.wahtsapp.net"}}},methods:{toggleComposeBox:function(){console.log("Open compose box");let t=!this.composeBoxOpen;this.composeBoxOpen=t,t?document.body.className="compose-open":document.body.className=document.body.className.replace("compose-open",""),console.log(this.composeBoxOpen)},renderChat:function(t,o){console.log(o),console.log(t);let n=!this.isSingle;this.isSingle=n},closeMessage(){this.isSingle=!1},openMessage(t){this.isSingle=!0},loadData(){let t=A.getBaseApiURL()+"/v1/messages";console.log(t),fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}}).then(o=>o.json()).then(function(o){this.messages=o.data.messages}.bind(this))}},computed:{messagesList(){return this.messages}},mounted(){document.body.className="page-message index",this.loadData()},components:{ComposeMessage:V}},Ei={class:"wrap"},$i={class:"container"},Di={class:"block-body"},ji={class:"wrap"},Hi=e("aside",{class:"message-sidebar"},[e("div",{class:"filter-block"}),e("div",{class:"filter-block"})],-1),Ni={class:"message-content"},Ki={class:"message-entries"},Ri={class:"entry-msg"},Oi=e("div",{class:"col"},[e("input",{type:"checkbox",name:"",id:""})],-1),Gi={class:"col"},qi={class:"col"},Ji={class:"wrap"},Wi={class:"col"},Qi=e("div",{class:"col"},"12 Okt",-1),Yi=e("div",{class:"action"},[e("a",{href:"#"},"1"),e("a",{href:"#"},"1"),e("a",{href:"#"},"1")],-1),Zi={class:"float-command"},Xi={class:"header"},es=e("div",{class:"left-menu-wrap"},"back",-1),os=e("div",{class:"center-menu-wrap"}," center ",-1),ts={class:"right-menu-wrap"},is=e("div",{class:"content"},null,-1);function ss(t,o,n,p,i,a){const s=x("block");return r(),l("section",{class:c(["page-dashboard-messages",{"is-single":i.isSingle}])},[e("div",Ei,[e("div",$i,[U(s,{id:"block-messages",class:"block block-messages"},{default:T(()=>[e("div",Di,[e("div",ji,[Hi,e("main",Ni,[e("div",Ki,[(r(!0),l(k,null,C(a.messagesList,(g,_)=>(r(),l("div",Ri,[e("a",{href:"",onClick:o[0]||(o[0]=v((...f)=>a.openMessage&&a.openMessage(...f),["prevent"])),class:"item"},[Oi,e("div",Gi,u(g.name),1),e("div",qi,[e("div",Ji,u(g.message_preview),1)]),e("div",Wi,u(g.status),1),Qi]),Yi]))),256))])])]),e("div",{class:c(["compose-wrap",{toggled:i.composeBoxOpen}])},[e("a",{href:"#",onClick:o[1]||(o[1]=v((...g)=>a.toggleComposeBox&&a.toggleComposeBox(...g),["prevent"])),class:"btn-close-compose"})],2),e("div",Zi,[e("a",{onClick:o[2]||(o[2]=v((...g)=>a.toggleComposeBox&&a.toggleComposeBox(...g),["prevent"])),href:"#",id:"btn-float-send-message",class:"btn btn-float-primary"})])])]),_:1}),U(s,{class:"block-single"},{default:T(()=>[e("div",Xi,[es,os,e("div",ts,[e("a",{href:"#",onClick:o[3]||(o[3]=v((...g)=>a.closeMessage&&a.closeMessage(...g),["prevent"]))},"close")])]),is]),_:1})])])],2)}var ns=y(zi,[["render",ss]]);const as={data(){return{tabContent:"application",apiKey:"",settings:{sec__app_login:"",sec__app_password:"",sec__api_key:"",dev__enabled:"1",dev__enable_interactive_dev:"1",new_api_key:"no"},errorsLogin:{login:[],password:[]},errorsField:{app_name:[],app_timezone:[],app_telegramlog_token:[],app_telegramlog_message_template:[],app_telegramlog_user_id:[],webhook_url:[],server_assets_url:[],server_assets_dir:[],server_port:[],server_base_url:[],server_socket_server_url:[],server_cors_origin:[],server_attachment_size:[],whatsapp_version_major:[],whatsapp_version_minor:[],whatsapp_version_patch:[],whatsapp_session_path:[],whatsapp_max_sleep:[],whatsapp_min_sleep:[],whatsapp_time_correction_plus:[],whatsapp_time_correction_minus:[]},ui:{apikeyMasked:!0}}},methods:{getBaseApiURL:function(){return window.webApp.apiUrl},getApiKey:function(){return window.webApp.apiToken},transformSettings(t){return{app__name:t.application.name,app__timezone:t.application.timezone,app__telegramlog_enabled:t.application.telegramlog_enabled,app__telegramlog_token:t.application.telegramlog_token,app__telegramlog_user_id:t.application.telegramlog_user_id,app__telegramlog_message_template:t.application.telegramlog_message_template,srv__assets_url:t.server.assets_url,srv__assets_dir:t.server.assets_dir,srv__port:t.server.port,srv__attachment_size:t.server.attachment_size,srv__base_url:t.server.base_url,srv__socket_server_url:t.server.socket_server_url,srv__cors_origin:t.server.cors_origin,srv__adapter_woowa:t.server.adapter_woowa,srv__adapter_wanotifid:t.server.adapter_wanotifid,srv__adapter_woonotifcom:t.server.adapter_woonotifcom,srv__adapter_wablas:t.server.adapter_wablas,srv__adapter_starsender:t.server.adapter_starsender,wa__enabled:t.whatsapp.enabled,wa__version_major:t.whatsapp.version_major,wa__version_minor:t.whatsapp.version_minor,wa__version_patch:t.whatsapp.version_patch,wa__max_sleep:t.whatsapp.max_sleep,wa__min_sleep:t.whatsapp.min_sleep,wa__time_correction_minus:t.whatsapp.time_correction_minus,wa__time_correction_plus:t.whatsapp.time_correction_plus,wa__session_path:t.whatsapp.session_path,wa__record_inbox:t.whatsapp.record_inbox,wbh__enabled:t.webhook.enabled,wbh__header_key:t.webhook.header_key,wbh__header_value:t.webhook.header_value,wbh__url:t.webhook.url,sec__app_login:t.security.app_login,sec__app_password:"",sec__api_key:t.security.api_key,dev__enabled:"1",dev__enable_interactive_dev:"1"}},updateFields(t){return{app__name:t.app__name,app__timezone:t.app__timezone,app__telegramlog_enabled:t.app__telegramlog_enabled?"yes":"no",app__telegramlog_token:t.app__telegramlog_token,app__telegramlog_user_id:t.app__telegramlog_user_id.toString(),app__telegramlog_message_template:t.app__telegramlog_message_template,srv__assets_url:t.srv__assets_url,srv__assets_dir:t.srv__assets_dir,srv__port:t.srv__port.toString(),srv__attachment_size:t.srv__attachment_size.toString(),srv__base_url:t.srv__base_url,srv__socket_server_url:t.srv__socket_server_url,srv__cors_origin:t.srv__cors_origin,srv__adapter_woowa:t.srv__adapter_woowa,srv__adapter_wanotifid:t.srv__adapter_wanotifid,srv__adapter_woonotifcom:t.srv__adapter_woonotifcom,srv__adapter_wablas:t.srv__adapter_wablas,srv__adapter_starsender:t.srv__adapter_starsender,srv__ip_whitelist:t.srv__ip_whitelist,srv__ip_blacklist:t.srv__ip_blacklist,wa__enabled:t.wa__enabled,wa__version_major:t.wa__version_major.toString(),wa__version_minor:t.wa__version_minor.toString(),wa__version_patch:t.wa__version_patch.toString(),wa__max_sleep:t.wa__max_sleep.toString(),wa__min_sleep:t.wa__min_sleep.toString(),wa__time_correction_minus:t.wa__time_correction_minus.toString(),wa__time_correction_plus:t.wa__time_correction_plus.toString(),wa__session_path:t.wa__session_path,wa__record_inbox:t.wa__record_inbox,wa__validate_jid:t.wa__validate_jid,sec__app_login:t.sec__app_login,sec__api_key:t.sec__api_key}},maskSerial(t){var o=t.substring(10,t.length-5);return t.replaceAll(o,"*".repeat(o.length))},copyTextToClipboard(t){var o=document.createElement("textarea");o.style.position="fixed",o.style.top=0,o.style.left=0,o.style.width="2em",o.style.height="2em",o.style.padding=0,o.style.border="none",o.style.outline="none",o.style.boxShadow="none",o.style.background="transparent",o.value=t,document.body.appendChild(o),o.focus(),o.select();try{var n=document.execCommand("copy"),p=n?"successful":"unsuccessful";console.log("Copying text command was "+p),b({text:"Text copied",className:"info",style:{background:"#198754"}}).showToast()}catch{console.log("Oops, unable to copy")}document.body.removeChild(o)},changeMaskApi(){this.ui.apikeyMasked=this.ui.apikeyMasked!=!0},generateApiKey(){console.log("Generate api key"),this.apiKey=A.randomString(29,"dk_")},saveApiKey(){let t=this.getBaseApiURL()+"/setting/api-key",o=this.getApiKey();var n={api_key:this.apiKey};fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o},body:JSON.stringify(n)}).then(p=>p.json()).then(function(p){console.log(p),p.code==200?(console.log(p),b({text:"Api key saved",className:"info",style:{background:"#198754"}}).showToast()):b({text:"Save api key failed",className:"warning",style:{background:"#dc3545"}}).showToast()})},loadSettings(){console.log("Get settings");let t=this.getBaseApiURL()+"/setting",o=this.getApiKey();fetch(t,{method:"GET",headers:{Authorization:"Bearer "+o}}).then(n=>n.json()).then(function(n){if(console.log(n),n.code==200){var p=this.transformSettings(n.data);this.apiKey=p.sec__api_key,this.settings=p,this.$store.dispatch("loadSettings",p)}}.bind(this))},applyFieldErrors(t){for(const o in t)this.errorsField[o]=t[o]},normalizeFieldsErrors(){console.log("Normalizing fields"),this.errorsField={app_name:[],app_timezone:[],app_telegramlog_token:[],app_telegramlog_message_template:[],app_telegramlog_user_id:[],webhook_url:[],server_assets_url:[],server_assets_dir:[],server_port:[],server_base_url:[],server_socket_server_url:[],server_cors_origin:[],server_attachment_size:[],whatsapp_version_major:[],whatsapp_version_minor:[],whatsapp_version_patch:[],whatsapp_session_path:[],whatsapp_max_sleep:[],whatsapp_min_sleep:[],whatsapp_time_correction_plus:[],whatsapp_time_correction_minus:[]}},applyLoginErrors(t){for(const o in t)this.errorsLogin[o]=t[o]},normalizeLoginErrors(){this.errorsLogin={login:[],password:[]}},saveSettings:function(){let t=this.getBaseApiURL()+"/setting",o=this.getApiKey();fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o},body:JSON.stringify(this.settings)}).then(n=>n.json()).then(function(n){n.code==200?(this.$snotify.success("Settings saved",{timeout:2e3,showProgressBar:!1,closeOnClick:!1,pauseOnHover:!0}),b({text:"Setting saved",className:"info",style:{background:"#198754"}}).showToast()):("errors"in n&&this.applyFieldErrors(n.errors),this.$snotify.error("An error occurred",{timeout:2e3,showProgressBar:!1,closeOnClick:!1,pauseOnHover:!0}),b({text:"Save setting failed",className:"warning",style:{background:"#dc3545"}}).showToast())}.bind(this))},saveNewLogin:function(){this.normalizeLoginErrors();let t=this.getBaseApiURL()+"/setting/login",o=this.getApiKey();var n={login:this.settings.sec__app_login,password:this.settings.sec__app_password};fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o},body:JSON.stringify(n)}).then(p=>p.json()).then(function(p){console.log(p),p.code==200?(console.log(p),b({text:"Credential login updated",className:"info",style:{background:"#198754"}}).showToast()):("errors"in p&&this.applyLoginErrors(p.errors),b({text:"Update failed",className:"warning",style:{background:"#dc3545"}}).showToast())}.bind(this))}},computed:{apiKeyDispay(){let t=this.apiKey;return this.ui.apikeyMasked?this.maskSerial(t):t}},mounted(){document.body.className="page-setting",this.loadSettings()}},rs={class:"page-dashboard-setting"},ls={class:"tab-nav"},ps={key:0,class:"tab-content"},ds={id:"setting-app"},cs=e("header",null,[e("h2",null,"Application"),e("div",{class:"description"},"Basic application setting")],-1),us={class:"body"},_s=e("header",null,[e("h3",null,"Basic")],-1),hs={class:"body"},ms=e("label",{for:""},"App Name",-1),vs={class:"body"},gs={class:"desc"},fs=e("label",{for:""},"Timezone",-1),bs={class:"body"},ys=M('<optgroup label="Africa"><option value="Africa/Abidjan">Abidjan</option><option value="Africa/Accra">Accra</option><option value="Africa/Addis_Ababa">Addis Ababa</option><option value="Africa/Algiers">Algiers</option><option value="Africa/Asmara">Asmara</option><option value="Africa/Bamako">Bamako</option><option value="Africa/Bangui">Bangui</option><option value="Africa/Banjul">Banjul</option><option value="Africa/Bissau">Bissau</option><option value="Africa/Blantyre">Blantyre</option><option value="Africa/Brazzaville">Brazzaville</option><option value="Africa/Bujumbura">Bujumbura</option><option value="Africa/Cairo">Cairo</option><option value="Africa/Casablanca">Casablanca</option><option value="Africa/Ceuta">Ceuta</option><option value="Africa/Conakry">Conakry</option><option value="Africa/Dakar">Dakar</option><option value="Africa/Dar_es_Salaam">Dar es Salaam</option><option value="Africa/Djibouti">Djibouti</option><option value="Africa/Douala">Douala</option><option value="Africa/El_Aaiun">El Aaiun</option><option value="Africa/Freetown">Freetown</option><option value="Africa/Gaborone">Gaborone</option><option value="Africa/Harare">Harare</option><option value="Africa/Johannesburg">Johannesburg</option><option value="Africa/Juba">Juba</option><option value="Africa/Kampala">Kampala</option><option value="Africa/Khartoum">Khartoum</option><option value="Africa/Kigali">Kigali</option><option value="Africa/Kinshasa">Kinshasa</option><option value="Africa/Lagos">Lagos</option><option value="Africa/Libreville">Libreville</option><option value="Africa/Lome">Lome</option><option value="Africa/Luanda">Luanda</option><option value="Africa/Lubumbashi">Lubumbashi</option><option value="Africa/Lusaka">Lusaka</option><option value="Africa/Malabo">Malabo</option><option value="Africa/Maputo">Maputo</option><option value="Africa/Maseru">Maseru</option><option value="Africa/Mbabane">Mbabane</option><option value="Africa/Mogadishu">Mogadishu</option><option value="Africa/Monrovia">Monrovia</option><option value="Africa/Nairobi">Nairobi</option><option value="Africa/Ndjamena">Ndjamena</option><option value="Africa/Niamey">Niamey</option><option value="Africa/Nouakchott">Nouakchott</option><option value="Africa/Ouagadougou">Ouagadougou</option><option value="Africa/Porto-Novo">Porto-Novo</option><option value="Africa/Sao_Tome">Sao Tome</option><option value="Africa/Tripoli">Tripoli</option><option value="Africa/Tunis">Tunis</option><option value="Africa/Windhoek">Windhoek</option></optgroup><optgroup label="America"><option value="America/Adak">Adak</option><option value="America/Anchorage">Anchorage</option><option value="America/Anguilla">Anguilla</option><option value="America/Antigua">Antigua</option><option value="America/Araguaina">Araguaina</option><option value="America/Argentina/Buenos_Aires">Argentina - Buenos Aires</option><option value="America/Argentina/Catamarca">Argentina - Catamarca</option><option value="America/Argentina/Cordoba">Argentina - Cordoba</option><option value="America/Argentina/Jujuy">Argentina - Jujuy</option><option value="America/Argentina/La_Rioja">Argentina - La Rioja</option><option value="America/Argentina/Mendoza">Argentina - Mendoza</option><option value="America/Argentina/Rio_Gallegos">Argentina - Rio Gallegos</option><option value="America/Argentina/Salta">Argentina - Salta</option><option value="America/Argentina/San_Juan">Argentina - San Juan</option><option value="America/Argentina/San_Luis">Argentina - San Luis</option><option value="America/Argentina/Tucuman">Argentina - Tucuman</option><option value="America/Argentina/Ushuaia">Argentina - Ushuaia</option><option value="America/Aruba">Aruba</option><option value="America/Asuncion">Asuncion</option><option value="America/Atikokan">Atikokan</option><option value="America/Bahia">Bahia</option><option value="America/Bahia_Banderas">Bahia Banderas</option><option value="America/Barbados">Barbados</option><option value="America/Belem">Belem</option><option value="America/Belize">Belize</option><option value="America/Blanc-Sablon">Blanc-Sablon</option><option value="America/Boa_Vista">Boa Vista</option><option value="America/Bogota">Bogota</option><option value="America/Boise">Boise</option><option value="America/Cambridge_Bay">Cambridge Bay</option><option value="America/Campo_Grande">Campo Grande</option><option value="America/Cancun">Cancun</option><option value="America/Caracas">Caracas</option><option value="America/Cayenne">Cayenne</option><option value="America/Cayman">Cayman</option><option value="America/Chicago">Chicago</option><option value="America/Chihuahua">Chihuahua</option><option value="America/Costa_Rica">Costa Rica</option><option value="America/Creston">Creston</option><option value="America/Cuiaba">Cuiaba</option><option value="America/Curacao">Curacao</option><option value="America/Danmarkshavn">Danmarkshavn</option><option value="America/Dawson">Dawson</option><option value="America/Dawson_Creek">Dawson Creek</option><option value="America/Denver">Denver</option><option value="America/Detroit">Detroit</option><option value="America/Dominica">Dominica</option><option value="America/Edmonton">Edmonton</option><option value="America/Eirunepe">Eirunepe</option><option value="America/El_Salvador">El Salvador</option><option value="America/Fortaleza">Fortaleza</option><option value="America/Fort_Nelson">Fort Nelson</option><option value="America/Glace_Bay">Glace Bay</option><option value="America/Goose_Bay">Goose Bay</option><option value="America/Grand_Turk">Grand Turk</option><option value="America/Grenada">Grenada</option><option value="America/Guadeloupe">Guadeloupe</option><option value="America/Guatemala">Guatemala</option><option value="America/Guayaquil">Guayaquil</option><option value="America/Guyana">Guyana</option><option value="America/Halifax">Halifax</option><option value="America/Havana">Havana</option><option value="America/Hermosillo">Hermosillo</option><option value="America/Indiana/Indianapolis">Indiana - Indianapolis</option><option value="America/Indiana/Knox">Indiana - Knox</option><option value="America/Indiana/Marengo">Indiana - Marengo</option><option value="America/Indiana/Petersburg">Indiana - Petersburg</option><option value="America/Indiana/Tell_City">Indiana - Tell City</option><option value="America/Indiana/Vevay">Indiana - Vevay</option><option value="America/Indiana/Vincennes">Indiana - Vincennes</option><option value="America/Indiana/Winamac">Indiana - Winamac</option><option value="America/Inuvik">Inuvik</option><option value="America/Iqaluit">Iqaluit</option><option value="America/Jamaica">Jamaica</option><option value="America/Juneau">Juneau</option><option value="America/Kentucky/Louisville">Kentucky - Louisville</option><option value="America/Kentucky/Monticello">Kentucky - Monticello</option><option value="America/Kralendijk">Kralendijk</option><option value="America/La_Paz">La Paz</option><option value="America/Lima">Lima</option><option value="America/Los_Angeles">Los Angeles</option><option value="America/Lower_Princes">Lower Princes</option><option value="America/Maceio">Maceio</option><option value="America/Managua">Managua</option><option value="America/Manaus">Manaus</option><option value="America/Marigot">Marigot</option><option value="America/Martinique">Martinique</option><option value="America/Matamoros">Matamoros</option><option value="America/Mazatlan">Mazatlan</option><option value="America/Menominee">Menominee</option><option value="America/Merida">Merida</option><option value="America/Metlakatla">Metlakatla</option><option value="America/Mexico_City">Mexico City</option><option value="America/Miquelon">Miquelon</option><option value="America/Moncton">Moncton</option><option value="America/Monterrey">Monterrey</option><option value="America/Montevideo">Montevideo</option><option value="America/Montserrat">Montserrat</option><option value="America/Nassau">Nassau</option><option value="America/New_York">New York</option><option value="America/Nipigon">Nipigon</option><option value="America/Nome">Nome</option><option value="America/Noronha">Noronha</option><option value="America/North_Dakota/Beulah">North Dakota - Beulah</option><option value="America/North_Dakota/Center">North Dakota - Center</option><option value="America/North_Dakota/New_Salem">North Dakota - New Salem</option><option value="America/Nuuk">Nuuk</option><option value="America/Ojinaga">Ojinaga</option><option value="America/Panama">Panama</option><option value="America/Pangnirtung">Pangnirtung</option><option value="America/Paramaribo">Paramaribo</option><option value="America/Phoenix">Phoenix</option><option value="America/Port-au-Prince">Port-au-Prince</option><option value="America/Port_of_Spain">Port of Spain</option><option value="America/Porto_Velho">Porto Velho</option><option value="America/Puerto_Rico">Puerto Rico</option><option value="America/Punta_Arenas">Punta Arenas</option><option value="America/Rainy_River">Rainy River</option><option value="America/Rankin_Inlet">Rankin Inlet</option><option value="America/Recife">Recife</option><option value="America/Regina">Regina</option><option value="America/Resolute">Resolute</option><option value="America/Rio_Branco">Rio Branco</option><option value="America/Santarem">Santarem</option><option value="America/Santiago">Santiago</option><option value="America/Santo_Domingo">Santo Domingo</option><option value="America/Sao_Paulo">Sao Paulo</option><option value="America/Scoresbysund">Scoresbysund</option><option value="America/Sitka">Sitka</option><option value="America/St_Barthelemy">St Barthelemy</option><option value="America/St_Johns">St Johns</option><option value="America/St_Kitts">St Kitts</option><option value="America/St_Lucia">St Lucia</option><option value="America/St_Thomas">St Thomas</option><option value="America/St_Vincent">St Vincent</option><option value="America/Swift_Current">Swift Current</option><option value="America/Tegucigalpa">Tegucigalpa</option><option value="America/Thule">Thule</option><option value="America/Thunder_Bay">Thunder Bay</option><option value="America/Tijuana">Tijuana</option><option value="America/Toronto">Toronto</option><option value="America/Tortola">Tortola</option><option value="America/Vancouver">Vancouver</option><option value="America/Whitehorse">Whitehorse</option><option value="America/Winnipeg">Winnipeg</option><option value="America/Yakutat">Yakutat</option><option value="America/Yellowknife">Yellowknife</option></optgroup><optgroup label="Antarctica"><option value="Antarctica/Casey">Casey</option><option value="Antarctica/Davis">Davis</option><option value="Antarctica/DumontDUrville">DumontDUrville</option><option value="Antarctica/Macquarie">Macquarie</option><option value="Antarctica/Mawson">Mawson</option><option value="Antarctica/McMurdo">McMurdo</option><option value="Antarctica/Palmer">Palmer</option><option value="Antarctica/Rothera">Rothera</option><option value="Antarctica/Syowa">Syowa</option><option value="Antarctica/Troll">Troll</option><option value="Antarctica/Vostok">Vostok</option></optgroup><optgroup label="Arctic"><option value="Arctic/Longyearbyen">Longyearbyen</option></optgroup><optgroup label="Asia"><option value="Asia/Aden">Aden</option><option value="Asia/Almaty">Almaty</option><option value="Asia/Amman">Amman</option><option value="Asia/Anadyr">Anadyr</option><option value="Asia/Aqtau">Aqtau</option><option value="Asia/Aqtobe">Aqtobe</option><option value="Asia/Ashgabat">Ashgabat</option><option value="Asia/Atyrau">Atyrau</option><option value="Asia/Baghdad">Baghdad</option><option value="Asia/Bahrain">Bahrain</option><option value="Asia/Baku">Baku</option><option value="Asia/Bangkok">Bangkok</option><option value="Asia/Barnaul">Barnaul</option><option value="Asia/Beirut">Beirut</option><option value="Asia/Bishkek">Bishkek</option><option value="Asia/Brunei">Brunei</option><option value="Asia/Chita">Chita</option><option value="Asia/Choibalsan">Choibalsan</option><option value="Asia/Colombo">Colombo</option><option value="Asia/Damascus">Damascus</option><option value="Asia/Dhaka">Dhaka</option><option value="Asia/Dili">Dili</option><option value="Asia/Dubai">Dubai</option><option value="Asia/Dushanbe">Dushanbe</option><option value="Asia/Famagusta">Famagusta</option><option value="Asia/Gaza">Gaza</option><option value="Asia/Hebron">Hebron</option><option value="Asia/Ho_Chi_Minh">Ho Chi Minh</option><option value="Asia/Hong_Kong">Hong Kong</option><option value="Asia/Hovd">Hovd</option><option value="Asia/Irkutsk">Irkutsk</option><option value="Asia/Jakarta">Jakarta</option><option value="Asia/Jayapura">Jayapura</option><option value="Asia/Jerusalem">Jerusalem</option><option value="Asia/Kabul">Kabul</option><option value="Asia/Kamchatka">Kamchatka</option><option value="Asia/Karachi">Karachi</option><option value="Asia/Kathmandu">Kathmandu</option><option value="Asia/Khandyga">Khandyga</option><option value="Asia/Kolkata">Kolkata</option><option value="Asia/Krasnoyarsk">Krasnoyarsk</option><option value="Asia/Kuala_Lumpur">Kuala Lumpur</option><option value="Asia/Kuching">Kuching</option><option value="Asia/Kuwait">Kuwait</option><option value="Asia/Macau">Macau</option><option value="Asia/Magadan">Magadan</option><option value="Asia/Makassar">Makassar</option><option value="Asia/Manila">Manila</option><option value="Asia/Muscat">Muscat</option><option value="Asia/Nicosia">Nicosia</option><option value="Asia/Novokuznetsk">Novokuznetsk</option><option value="Asia/Novosibirsk">Novosibirsk</option><option value="Asia/Omsk">Omsk</option><option value="Asia/Oral">Oral</option><option value="Asia/Phnom_Penh">Phnom Penh</option><option value="Asia/Pontianak">Pontianak</option><option value="Asia/Pyongyang">Pyongyang</option><option value="Asia/Qatar">Qatar</option><option value="Asia/Qostanay">Qostanay</option><option value="Asia/Qyzylorda">Qyzylorda</option><option value="Asia/Riyadh">Riyadh</option><option value="Asia/Sakhalin">Sakhalin</option><option value="Asia/Samarkand">Samarkand</option><option value="Asia/Seoul">Seoul</option><option value="Asia/Shanghai">Shanghai</option><option value="Asia/Singapore">Singapore</option><option value="Asia/Srednekolymsk">Srednekolymsk</option><option value="Asia/Taipei">Taipei</option><option value="Asia/Tashkent">Tashkent</option><option value="Asia/Tbilisi">Tbilisi</option><option value="Asia/Tehran">Tehran</option><option value="Asia/Thimphu">Thimphu</option><option value="Asia/Tokyo">Tokyo</option><option value="Asia/Tomsk">Tomsk</option><option value="Asia/Ulaanbaatar">Ulaanbaatar</option><option value="Asia/Urumqi">Urumqi</option><option value="Asia/Ust-Nera">Ust-Nera</option><option value="Asia/Vientiane">Vientiane</option><option value="Asia/Vladivostok">Vladivostok</option><option value="Asia/Yakutsk">Yakutsk</option><option value="Asia/Yangon">Yangon</option><option value="Asia/Yekaterinburg">Yekaterinburg</option><option value="Asia/Yerevan">Yerevan</option></optgroup><optgroup label="Atlantic"><option value="Atlantic/Azores">Azores</option><option value="Atlantic/Bermuda">Bermuda</option><option value="Atlantic/Canary">Canary</option><option value="Atlantic/Cape_Verde">Cape Verde</option><option value="Atlantic/Faroe">Faroe</option><option value="Atlantic/Madeira">Madeira</option><option value="Atlantic/Reykjavik">Reykjavik</option><option value="Atlantic/South_Georgia">South Georgia</option><option value="Atlantic/Stanley">Stanley</option><option value="Atlantic/St_Helena">St Helena</option></optgroup><optgroup label="Australia"><option value="Australia/Adelaide">Adelaide</option><option value="Australia/Brisbane">Brisbane</option><option value="Australia/Broken_Hill">Broken Hill</option><option value="Australia/Darwin">Darwin</option><option value="Australia/Eucla">Eucla</option><option value="Australia/Hobart">Hobart</option><option value="Australia/Lindeman">Lindeman</option><option value="Australia/Lord_Howe">Lord Howe</option><option value="Australia/Melbourne">Melbourne</option><option value="Australia/Perth">Perth</option><option value="Australia/Sydney">Sydney</option></optgroup><optgroup label="Europe"><option value="Europe/Amsterdam">Amsterdam</option><option value="Europe/Andorra">Andorra</option><option value="Europe/Astrakhan">Astrakhan</option><option value="Europe/Athens">Athens</option><option value="Europe/Belgrade">Belgrade</option><option value="Europe/Berlin">Berlin</option><option value="Europe/Bratislava">Bratislava</option><option value="Europe/Brussels">Brussels</option><option value="Europe/Bucharest">Bucharest</option><option value="Europe/Budapest">Budapest</option><option value="Europe/Busingen">Busingen</option><option value="Europe/Chisinau">Chisinau</option><option value="Europe/Copenhagen">Copenhagen</option><option value="Europe/Dublin">Dublin</option><option value="Europe/Gibraltar">Gibraltar</option><option value="Europe/Guernsey">Guernsey</option><option value="Europe/Helsinki">Helsinki</option><option value="Europe/Isle_of_Man">Isle of Man</option><option value="Europe/Istanbul">Istanbul</option><option value="Europe/Jersey">Jersey</option><option value="Europe/Kaliningrad">Kaliningrad</option><option value="Europe/Kiev">Kiev</option><option value="Europe/Kirov">Kirov</option><option value="Europe/Lisbon">Lisbon</option><option value="Europe/Ljubljana">Ljubljana</option><option value="Europe/London">London</option><option value="Europe/Luxembourg">Luxembourg</option><option value="Europe/Madrid">Madrid</option><option value="Europe/Malta">Malta</option><option value="Europe/Mariehamn">Mariehamn</option><option value="Europe/Minsk">Minsk</option><option value="Europe/Monaco">Monaco</option><option value="Europe/Moscow">Moscow</option><option value="Europe/Oslo">Oslo</option><option value="Europe/Paris">Paris</option><option value="Europe/Podgorica">Podgorica</option><option value="Europe/Prague">Prague</option><option value="Europe/Riga">Riga</option><option value="Europe/Rome">Rome</option><option value="Europe/Samara">Samara</option><option value="Europe/San_Marino">San Marino</option><option value="Europe/Sarajevo">Sarajevo</option><option value="Europe/Saratov">Saratov</option><option value="Europe/Simferopol">Simferopol</option><option value="Europe/Skopje">Skopje</option><option value="Europe/Sofia">Sofia</option><option value="Europe/Stockholm">Stockholm</option><option value="Europe/Tallinn">Tallinn</option><option value="Europe/Tirane">Tirane</option><option value="Europe/Ulyanovsk">Ulyanovsk</option><option value="Europe/Uzhgorod">Uzhgorod</option><option value="Europe/Vaduz">Vaduz</option><option value="Europe/Vatican">Vatican</option><option value="Europe/Vienna">Vienna</option><option value="Europe/Vilnius">Vilnius</option><option value="Europe/Volgograd">Volgograd</option><option value="Europe/Warsaw">Warsaw</option><option value="Europe/Zagreb">Zagreb</option><option value="Europe/Zaporozhye">Zaporozhye</option><option value="Europe/Zurich">Zurich</option></optgroup><optgroup label="Indian"><option value="Indian/Antananarivo">Antananarivo</option><option value="Indian/Chagos">Chagos</option><option value="Indian/Christmas">Christmas</option><option value="Indian/Cocos">Cocos</option><option value="Indian/Comoro">Comoro</option><option value="Indian/Kerguelen">Kerguelen</option><option value="Indian/Mahe">Mahe</option><option value="Indian/Maldives">Maldives</option><option value="Indian/Mauritius">Mauritius</option><option value="Indian/Mayotte">Mayotte</option><option value="Indian/Reunion">Reunion</option></optgroup><optgroup label="Pacific"><option value="Pacific/Apia">Apia</option><option value="Pacific/Auckland">Auckland</option><option value="Pacific/Bougainville">Bougainville</option><option value="Pacific/Chatham">Chatham</option><option value="Pacific/Chuuk">Chuuk</option><option value="Pacific/Easter">Easter</option><option value="Pacific/Efate">Efate</option><option value="Pacific/Fakaofo">Fakaofo</option><option value="Pacific/Fiji">Fiji</option><option value="Pacific/Funafuti">Funafuti</option><option value="Pacific/Galapagos">Galapagos</option><option value="Pacific/Gambier">Gambier</option><option value="Pacific/Guadalcanal">Guadalcanal</option><option value="Pacific/Guam">Guam</option><option value="Pacific/Honolulu">Honolulu</option><option value="Pacific/Kanton">Kanton</option><option value="Pacific/Kiritimati">Kiritimati</option><option value="Pacific/Kosrae">Kosrae</option><option value="Pacific/Kwajalein">Kwajalein</option><option value="Pacific/Majuro">Majuro</option><option value="Pacific/Marquesas">Marquesas</option><option value="Pacific/Midway">Midway</option><option value="Pacific/Nauru">Nauru</option><option value="Pacific/Niue">Niue</option><option value="Pacific/Norfolk">Norfolk</option><option value="Pacific/Noumea">Noumea</option><option value="Pacific/Pago_Pago">Pago Pago</option><option value="Pacific/Palau">Palau</option><option value="Pacific/Pitcairn">Pitcairn</option><option value="Pacific/Pohnpei">Pohnpei</option><option value="Pacific/Port_Moresby">Port Moresby</option><option value="Pacific/Rarotonga">Rarotonga</option><option value="Pacific/Saipan">Saipan</option><option value="Pacific/Tahiti">Tahiti</option><option value="Pacific/Tarawa">Tarawa</option><option value="Pacific/Tongatapu">Tongatapu</option><option value="Pacific/Wake">Wake</option><option value="Pacific/Wallis">Wallis</option></optgroup><optgroup label="UTC"><option value="UTC">UTC</option></optgroup><optgroup label="Manual Offsets"><option value="UTC-12">UTC-12</option><option value="UTC-11.5">UTC-11:30</option><option value="UTC-11">UTC-11</option><option value="UTC-10.5">UTC-10:30</option><option value="UTC-10">UTC-10</option><option value="UTC-9.5">UTC-9:30</option><option value="UTC-9">UTC-9</option><option value="UTC-8.5">UTC-8:30</option><option value="UTC-8">UTC-8</option><option value="UTC-7.5">UTC-7:30</option><option value="UTC-7">UTC-7</option><option value="UTC-6.5">UTC-6:30</option><option value="UTC-6">UTC-6</option><option value="UTC-5.5">UTC-5:30</option><option value="UTC-5">UTC-5</option><option value="UTC-4.5">UTC-4:30</option><option value="UTC-4">UTC-4</option><option value="UTC-3.5">UTC-3:30</option><option value="UTC-3">UTC-3</option><option value="UTC-2.5">UTC-2:30</option><option value="UTC-2">UTC-2</option><option value="UTC-1.5">UTC-1:30</option><option value="UTC-1">UTC-1</option><option value="UTC-0.5">UTC-0:30</option><option value="UTC+0">UTC+0</option><option value="UTC+0.5">UTC+0:30</option><option value="UTC+1">UTC+1</option><option value="UTC+1.5">UTC+1:30</option><option value="UTC+2">UTC+2</option><option value="UTC+2.5">UTC+2:30</option><option value="UTC+3">UTC+3</option><option value="UTC+3.5">UTC+3:30</option><option value="UTC+4">UTC+4</option><option value="UTC+4.5">UTC+4:30</option><option value="UTC+5">UTC+5</option><option value="UTC+5.5">UTC+5:30</option><option value="UTC+5.75">UTC+5:45</option><option value="UTC+6">UTC+6</option><option value="UTC+6.5">UTC+6:30</option><option selected="selected" value="UTC+7">UTC+7</option><option value="UTC+7.5">UTC+7:30</option><option value="UTC+8">UTC+8</option><option value="UTC+8.5">UTC+8:30</option><option value="UTC+8.75">UTC+8:45</option><option value="UTC+9">UTC+9</option><option value="UTC+9.5">UTC+9:30</option><option value="UTC+10">UTC+10</option><option value="UTC+10.5">UTC+10:30</option><option value="UTC+11">UTC+11</option><option value="UTC+11.5">UTC+11:30</option><option value="UTC+12">UTC+12</option><option value="UTC+12.75">UTC+12:45</option><option value="UTC+13">UTC+13</option><option value="UTC+13.75">UTC+13:45</option><option value="UTC+14">UTC+14</option></optgroup>',12),ws=[ys],As={class:"desc"},ks=e("header",null,[e("h3",null,"Telegram log")],-1),Cs={class:"body"},Ts={id:"sapl_telegramlog_enabled",class:"form-group has-switch"},Ss=e("label",{for:"sapl_telegramlog_enabled"},"Enable telegram log",-1),Us={class:"body"},xs={class:"switch"},Ms=e("span",{class:"slider"},null,-1),Bs=e("div",{class:"desc"},null,-1),Is=e("label",{for:""},"Telegram api key",-1),Ls={class:"body"},Ps={class:"desc"},Fs=e("label",{for:""},"Telegram user ID",-1),Vs={class:"body"},zs={class:"desc"},Es=e("label",{for:""},"Message template",-1),$s={class:"body"},Ds={class:"desc"},js={id:"setting-server"},Hs=e("header",null,[e("h2",null,"Server"),e("div",{class:"description"},"Server setting")],-1),Ns={class:"body"},Ks=e("header",null,[e("h3",null,"Basic")],-1),Rs={class:"body"},Os=e("label",{for:"srv__assets_url"},"Assets URL",-1),Gs={class:"body"},qs={class:"desc"},Js=e("label",{for:"srv__assets_dir"},"Assets path directory",-1),Ws={class:"body"},Qs={class:"desc"},Ys=e("label",{for:"srv__port"},"Port",-1),Zs={class:"body"},Xs={class:"desc"},en=e("label",{for:"srv__attachment_size"},"Max attachment size (in kb)",-1),on={class:"body"},tn={class:"desc"},sn=e("label",{for:"srv__base_url"},"Base URL",-1),nn={class:"body"},an={class:"desc"},rn=e("label",{for:"srv__socket_server_url"},"Websocket server URL",-1),ln={class:"body"},pn={class:"desc"},dn=e("label",{for:"srv__cors_origin"},"Allow CORS origin from",-1),cn={class:"body"},un={class:"desc"},_n=e("header",null,[e("h3",null,"Adapter")],-1),hn={class:"body"},mn={id:"srv__adapter_woowa_wrap",class:"form-group has-switch"},vn=e("label",{for:"srv__adapter_woowa"},"Woowa",-1),gn={class:"body"},fn={class:"switch"},bn=e("span",{class:"slider"},null,-1),yn=e("div",{class:"desc"},"Activate api adapter for woowa",-1),wn={id:"srv__adapter_wanotifid_wrap",class:"form-group has-switch"},An=e("label",{for:"srv__adapter_wanotifid"},"Wanotif.id",-1),kn={class:"body"},Cn={class:"switch"},Tn=e("span",{class:"slider"},null,-1),Sn=e("div",{class:"desc"},"Activate api adapter for Wanotif.id",-1),Un={id:"srv__adapter_woonotifcom_wrap",class:"form-group has-switch"},xn=e("label",{for:"srv__adapter_woonotifcom"},"Wanotif.com",-1),Mn={class:"body"},Bn={class:"switch"},In=e("span",{class:"slider"},null,-1),Ln=e("div",{class:"desc"},"Activate api adapter for woonotif.com",-1),Pn={id:"srv__adapter_wablas_wrap",class:"form-group has-switch"},Fn=e("label",{for:"srv__adapter_wablas"},"Wablas",-1),Vn={class:"body"},zn={class:"switch"},En=e("span",{class:"slider"},null,-1),$n=e("div",{class:"desc"},"Activate api adapter for Wablas",-1),Dn={id:"srv__adapter_starsender_wrap",class:"form-group has-switch"},jn=e("label",{for:"srv__adapter_starsender"},"Starsender",-1),Hn={class:"body"},Nn={class:"switch"},Kn=e("span",{class:"slider"},null,-1),Rn=e("div",{class:"desc"},"Activate api adapter for Starsender",-1),On={id:"setting-whatsapp"},Gn=e("header",null,[e("h2",null,"WhatsApp"),e("div",{class:"description"},"WhatsApp sender setting")],-1),qn={class:"body"},Jn=e("header",null,[e("h3",null,"Basic")],-1),Wn={class:"body"},Qn={id:"wa__enabled_wrap",class:"form-group has-switch"},Yn=e("label",{for:"wa__enabled"},"Enable",-1),Zn={class:"body"},Xn={class:"switch"},ea=e("span",{class:"slider"},null,-1),oa=e("div",{class:"desc"},"Enable whatsapp sender",-1),ta=e("label",{for:"wa__version_major"},"Version major",-1),ia={class:"body"},sa={class:"desc"},na=e("label",{for:"wa__version_minor"},"Version minor",-1),aa={class:"body"},ra={class:"desc"},la=e("label",{for:"wa__version_patch"},"Version patch",-1),pa={class:"body"},da={class:"desc"},ca=e("label",{for:"wa__max_sleep"},"Maximum delay after send message (second)",-1),ua={class:"body"},_a={class:"desc"},ha=e("label",{for:"wa__min_sleep"},"Minimum delay after send message (second)",-1),ma={class:"body"},va={class:"desc"},ga=e("label",{for:"wa__time_correction_minus"},"Time correction minus",-1),fa={class:"body"},ba={class:"desc"},ya=e("label",{for:"wa__time_correction_plus"},"Time correction plus",-1),wa={class:"body"},Aa={class:"desc"},ka=e("label",{for:"wa__session_path"},"Session file path",-1),Ca={class:"body"},Ta={class:"desc"},Sa={id:"wa__record_inbox_wrap",class:"form-group has-switch"},Ua=e("label",{for:"wa__record_inbox"},"Record incoming message",-1),xa={class:"body"},Ma={class:"switch"},Ba=e("span",{class:"slider"},null,-1),Ia=e("div",{class:"desc"},"Required if you want to activate webhook",-1),La={id:"setting-webhook"},Pa=e("header",null,[e("h2",null,"Webhook"),e("div",{class:"description"},"Enable autorespond feature")],-1),Fa={class:"body"},Va=e("header",null,[e("h3",null,"Webhook")],-1),za={class:"body"},Ea={id:"wbh__enabled_wrap",class:"form-group has-switch"},$a=e("label",{for:"wbh__enabled"},"Enable",-1),Da={class:"body"},ja={class:"switch"},Ha=e("span",{class:"slider"},null,-1),Na=e("div",{class:"desc"},null,-1),Ka=e("label",{for:"wbh__url"},"Webhook endpoint URL",-1),Ra={class:"body"},Oa={class:"desc"},Ga={id:"wbh__header_key_wrap",class:"form-group"},qa=e("label",{for:"wbh__header_key"},"Header key (required)",-1),Ja={class:"body"},Wa=e("div",{class:"desc"},"Add header key and value for additional security",-1),Qa={id:"wbh__header_value_wrap",class:"form-group"},Ya=e("label",{for:"wbh__header_value"},"Header value (required)",-1),Za={class:"body"},Xa=e("div",{class:"desc"},null,-1),er={class:"action-bar"},or={key:1,class:"tab-content"},tr={id:"setting-security"},ir=e("header",null,[e("h2",null,"Security"),e("div",{class:"description"},"Change login password")],-1),sr={class:"body"},nr=e("label",{for:"sec__app_login"},"Login",-1),ar={class:"body"},rr={class:"desc"},lr=e("label",{for:"sec__app_password"},"Password",-1),pr={class:"body"},dr={class:"desc"},cr={class:"action-bar"},ur={key:2,class:"tab-content"},_r={id:"setting-api-key"},hr=e("header",null,[e("h2",null,"Api key"),e("div",{class:"description"},"Change API Key")],-1),mr={class:"body"},vr={class:"body"},gr={id:"sec__api_key_wrap",class:"form-info"},fr={class:"api-key-preview"},br={class:"api-key-value"},yr={class:"api-key-action"},wr={key:0},Ar={key:1},kr={class:"action-bar"};function Cr(t,o,n,p,i,a){return r(),l("section",rs,[e("nav",ls,[e("a",{href:"#",onClick:o[0]||(o[0]=v(s=>i.tabContent="application",["prevent"])),class:c({active:i.tabContent=="application"})},"Application",2),e("a",{href:"#",onClick:o[1]||(o[1]=v(s=>i.tabContent="security",["prevent"])),class:c({active:i.tabContent=="security"})},"Login",2),e("a",{href:"#",onClick:o[2]||(o[2]=v(s=>i.tabContent="api",["prevent"])),class:c({active:i.tabContent=="api"})},"API",2)]),i.tabContent=="application"?(r(),l("div",ps,[e("form",{onKeydown:o[35]||(o[35]=(...s)=>a.normalizeFieldsErrors&&a.normalizeFieldsErrors(...s))},[e("setting",ds,[cs,e("div",us,[e("sub-setting",null,[_s,e("div",hs,[e("form-group",{id:"sapl_name",class:c(["form-group",{"is-invalid":i.errorsField.app_name.length>0}])},[ms,e("div",vs,[d(e("input",{type:"text",name:"sapl_name",id:"sapl_name",class:"form-control sf","onUpdate:modelValue":o[3]||(o[3]=s=>i.settings.app__name=s)},null,512),[[m,i.settings.app__name]]),e("div",gs,u(i.errorsField.app_name.join(",")),1)])],2),e("form-group",{id:"sapl_timezone",class:c(["form-group",{"is-invalid":i.errorsField.app_timezone.length>0}])},[fs,e("div",bs,[d(e("select",{name:"sapl_timezone",id:"sapl_timezone","onUpdate:modelValue":o[4]||(o[4]=s=>i.settings.app__timezone=s),class:"form-control"},ws,512),[[P,i.settings.app__timezone]]),e("div",As,u(i.errorsField.app_timezone.join(",")),1)])],2)])]),e("sub-setting",null,[ks,e("div",Cs,[e("form-group",Ts,[Ss,e("div",Us,[e("label",xs,[d(e("input",{type:"checkbox",id:"sapl_telegramlog_enabled",class:"sf",value:"yes","onUpdate:modelValue":o[5]||(o[5]=s=>i.settings.app__telegramlog_enabled=s)},null,512),[[w,i.settings.app__telegramlog_enabled]]),Ms]),Bs])]),e("form-group",{id:"sapl_telegramlog_token",class:c(["form-group",{"is-invalid":i.errorsField.app_telegramlog_token.length>0}])},[Is,e("div",Ls,[d(e("input",{type:"text",name:"sapl_telegramlog_token",id:"sapl_telegramlog_token",class:"form-control sf","onUpdate:modelValue":o[6]||(o[6]=s=>i.settings.app__telegramlog_token=s)},null,512),[[m,i.settings.app__telegramlog_token]]),e("div",Ps,u(i.errorsField.app_telegramlog_token.join(",")),1)])],2),e("form-group",{id:"sapl_telegramlog_user_id",class:c(["form-group",{"is-invalid":i.errorsField.app_telegramlog_user_id.length>0}])},[Fs,e("div",Vs,[d(e("input",{type:"text",name:"sapl_telegramlog_user_id",id:"sapl_telegramlog_user_id",class:"form-control sf","onUpdate:modelValue":o[7]||(o[7]=s=>i.settings.app__telegramlog_user_id=s)},null,512),[[m,i.settings.app__telegramlog_user_id]]),e("div",zs,u(i.errorsField.app_telegramlog_user_id.join(",")),1)])],2),e("form-group",{id:"sapl_telegramlog_message_template",class:c(["form-group",{"is-invalid":i.errorsField.app_telegramlog_message_template.length>0}])},[Es,e("div",$s,[d(e("textarea",{name:"sapl_telegramlog_message_template",id:"sapl_telegramlog_message_template",class:"form-control sf","onUpdate:modelValue":o[8]||(o[8]=s=>i.settings.app__telegramlog_message_template=s)},null,512),[[m,i.settings.app__telegramlog_message_template]]),e("div",Ds,u(i.errorsField.app_telegramlog_message_template.join(",")),1)])],2)])])])]),e("setting",js,[Hs,e("div",Ns,[e("sub-setting",null,[Ks,e("div",Rs,[e("form-group",{id:"srv__assets_url_wrap",class:c(["form-group",{"is-invalid":i.errorsField.server_assets_url.length>0}])},[Os,e("div",Gs,[d(e("input",{type:"text",name:"srv__assets_url",id:"srv__assets_url",class:"form-control sf","onUpdate:modelValue":o[9]||(o[9]=s=>i.settings.srv__assets_url=s)},null,512),[[m,i.settings.srv__assets_url]]),e("div",qs,u(i.errorsField.server_assets_url.join(",")),1)])],2),e("form-group",{id:"srv__assets_dir_wrap",class:c(["form-group",{"is-invalid":i.errorsField.server_assets_dir.length>0}])},[Js,e("div",Ws,[d(e("input",{type:"text",name:"srv__assets_dir",id:"srv__assets_dir",class:"form-control sf","onUpdate:modelValue":o[10]||(o[10]=s=>i.settings.srv__assets_dir=s)},null,512),[[m,i.settings.srv__assets_dir]]),e("div",Qs,u(i.errorsField.server_assets_dir.join(",")),1)])],2),e("form-group",{id:"srv__port_wrap",class:c(["form-group",{"is-invalid":i.errorsField.server_port.length>0}])},[Ys,e("div",Zs,[d(e("input",{type:"number",name:"srv__port",id:"srv__port",class:"form-control sf","onUpdate:modelValue":o[11]||(o[11]=s=>i.settings.srv__port=s)},null,512),[[m,i.settings.srv__port]]),e("div",Xs,u(i.errorsField.server_port.join(",")),1)])],2),e("form-group",{id:"srv__attachment_size_wrap",class:c(["form-group",{"is-invalid":i.errorsField.server_attachment_size.length>0}])},[en,e("div",on,[d(e("input",{type:"number",name:"srv__attachment_size",id:"srv__attachment_size",class:"form-control sf","onUpdate:modelValue":o[12]||(o[12]=s=>i.settings.srv__attachment_size=s)},null,512),[[m,i.settings.srv__attachment_size]]),e("div",tn,u(i.errorsField.server_attachment_size.join(",")),1)])],2),e("form-group",{id:"srv__base_url_wrap",class:c(["form-group",{"is-invalid":i.errorsField.server_base_url.length>0}])},[sn,e("div",nn,[d(e("input",{type:"text",name:"srv__base_url",id:"srv__base_url",class:"form-control sf","onUpdate:modelValue":o[13]||(o[13]=s=>i.settings.srv__base_url=s)},null,512),[[m,i.settings.srv__base_url]]),e("div",an,u(i.errorsField.server_base_url.join(",")),1)])],2),e("form-group",{id:"srv__socket_server_url_wrap",class:c(["form-group",{"is-invalid":i.errorsField.server_socket_server_url.length>0}])},[rn,e("div",ln,[d(e("input",{type:"text",name:"srv__socket_server_url",id:"srv__socket_server_url",class:"form-control sf","onUpdate:modelValue":o[14]||(o[14]=s=>i.settings.srv__socket_server_url=s)},null,512),[[m,i.settings.srv__socket_server_url]]),e("div",pn,u(i.errorsField.server_socket_server_url.join(",")),1)])],2),e("form-group",{id:"srv__cors_origin_wrap",class:c(["form-group",{"is-invalid":i.errorsField.server_cors_origin.length>0}])},[dn,e("div",cn,[d(e("textarea",{name:"srv__cors_origin",id:"srv__cors_origin",class:"form-control sf","onUpdate:modelValue":o[15]||(o[15]=s=>i.settings.srv__cors_origin=s)},null,512),[[m,i.settings.srv__cors_origin]]),e("div",un,u(i.errorsField.server_cors_origin.join(",")),1)])],2)])]),e("sub-setting",null,[_n,e("div",hn,[e("form-group",mn,[vn,e("div",gn,[e("label",fn,[d(e("input",{type:"checkbox",id:"srv__adapter_woowa",class:"sf",value:"yes","onUpdate:modelValue":o[16]||(o[16]=s=>i.settings.srv__adapter_woowa=s)},null,512),[[w,i.settings.srv__adapter_woowa]]),bn]),yn])]),e("form-group",wn,[An,e("div",kn,[e("label",Cn,[d(e("input",{type:"checkbox",id:"srv__adapter_wanotifid",class:"sf",value:"yes","onUpdate:modelValue":o[17]||(o[17]=s=>i.settings.srv__adapter_wanotifid=s)},null,512),[[w,i.settings.srv__adapter_wanotifid]]),Tn]),Sn])]),e("form-group",Un,[xn,e("div",Mn,[e("label",Bn,[d(e("input",{type:"checkbox",id:"srv__adapter_woonotifcom",class:"sf",value:"yes","onUpdate:modelValue":o[18]||(o[18]=s=>i.settings.srv__adapter_woonotifcom=s)},null,512),[[w,i.settings.srv__adapter_woonotifcom]]),In]),Ln])]),e("form-group",Pn,[Fn,e("div",Vn,[e("label",zn,[d(e("input",{type:"checkbox",id:"srv__adapter_wablas",class:"sf",value:"yes","onUpdate:modelValue":o[19]||(o[19]=s=>i.settings.srv__adapter_wablas=s)},null,512),[[w,i.settings.srv__adapter_wablas]]),En]),$n])]),e("form-group",Dn,[jn,e("div",Hn,[e("label",Nn,[d(e("input",{type:"checkbox",id:"srv__adapter_starsender",class:"sf",value:"yes","onUpdate:modelValue":o[20]||(o[20]=s=>i.settings.srv__adapter_starsender=s)},null,512),[[w,i.settings.srv__adapter_starsender]]),Kn]),Rn])])])])])]),e("setting",On,[Gn,e("div",qn,[e("sub-setting",null,[Jn,e("div",Wn,[e("form-group",Qn,[Yn,e("div",Zn,[e("label",Xn,[d(e("input",{type:"checkbox",id:"wa__enabled",class:"sf",value:"yes","onUpdate:modelValue":o[21]||(o[21]=s=>i.settings.wa__enabled=s)},null,512),[[w,i.settings.wa__enabled]]),ea]),oa])]),e("form-group",{id:"wa__version_major_wrap",class:c(["form-group",{"is-invalid":i.errorsField.whatsapp_version_major.length>0}])},[ta,e("div",ia,[d(e("input",{type:"number",name:"wa__version_major",id:"wa__version_major",class:"form-control sf","onUpdate:modelValue":o[22]||(o[22]=s=>i.settings.wa__version_major=s)},null,512),[[m,i.settings.wa__version_major]]),e("div",sa,u(i.errorsField.whatsapp_version_major.join(",")),1)])],2),e("form-group",{id:"wa__version_minor_wrap",class:c(["form-group",{"is-invalid":i.errorsField.whatsapp_version_minor.length>0}])},[na,e("div",aa,[d(e("input",{type:"number",name:"wa__version_minor",id:"wa__version_minor",class:"form-control sf","onUpdate:modelValue":o[23]||(o[23]=s=>i.settings.wa__version_minor=s)},null,512),[[m,i.settings.wa__version_minor]]),e("div",ra,u(i.errorsField.whatsapp_version_minor.join(",")),1)])],2),e("form-group",{id:"wa__version_patch_wrap",class:c(["form-group",{"is-invalid":i.errorsField.whatsapp_version_patch.length>0}])},[la,e("div",pa,[d(e("input",{type:"number",name:"wa__version_patch",id:"wa__version_patch",class:"form-control sf","onUpdate:modelValue":o[24]||(o[24]=s=>i.settings.wa__version_patch=s)},null,512),[[m,i.settings.wa__version_patch]]),e("div",da,u(i.errorsField.whatsapp_version_patch.join(",")),1)])],2),e("form-group",{id:"wa__max_sleep_wrap",class:c(["form-group",{"is-invalid":i.errorsField.whatsapp_max_sleep.length>0}])},[ca,e("div",ua,[d(e("input",{type:"number",name:"wa__max_sleep",id:"wa__max_sleep",class:"form-control sf","onUpdate:modelValue":o[25]||(o[25]=s=>i.settings.wa__max_sleep=s)},null,512),[[m,i.settings.wa__max_sleep]]),e("div",_a,u(i.errorsField.whatsapp_max_sleep.join(",")),1)])],2),e("form-group",{id:"wa__min_sleep_wrap",class:c(["form-group",{"is-invalid":i.errorsField.whatsapp_min_sleep.length>0}])},[ha,e("div",ma,[d(e("input",{type:"number",name:"wa__min_sleep",id:"wa__min_sleep",class:"form-control sf","onUpdate:modelValue":o[26]||(o[26]=s=>i.settings.wa__min_sleep=s)},null,512),[[m,i.settings.wa__min_sleep]]),e("div",va,u(i.errorsField.whatsapp_min_sleep.join(",")),1)])],2),e("form-group",{id:"wa__time_correction_minus_wrap",class:c(["form-group",{"is-invalid":i.errorsField.whatsapp_time_correction_minus.length>0}])},[ga,e("div",fa,[d(e("input",{type:"number",name:"wa__time_correction_minus",id:"wa__time_correction_minus",class:"form-control sf","onUpdate:modelValue":o[27]||(o[27]=s=>i.settings.wa__time_correction_minus=s)},null,512),[[m,i.settings.wa__time_correction_minus]]),e("div",ba,u(i.errorsField.whatsapp_time_correction_minus.join(",")),1)])],2),e("form-group",{id:"wa__time_correction_plus_wrap",class:c(["form-group",{"is-invalid":i.errorsField.whatsapp_time_correction_plus.length>0}])},[ya,e("div",wa,[d(e("input",{type:"number",name:"wa__time_correction_plus",id:"wa__time_correction_plus",class:"form-control sf","onUpdate:modelValue":o[28]||(o[28]=s=>i.settings.wa__time_correction_plus=s)},null,512),[[m,i.settings.wa__time_correction_plus]]),e("div",Aa,u(i.errorsField.whatsapp_time_correction_plus.join(",")),1)])],2),e("form-group",{id:"wa__session_path_wrap",class:c(["form-group",{"is-invalid":i.errorsField.whatsapp_session_path.length>0}])},[ka,e("div",Ca,[d(e("input",{type:"text",name:"wa__session_path",id:"wa__session_path",class:"form-control sf","onUpdate:modelValue":o[29]||(o[29]=s=>i.settings.wa__session_path=s)},null,512),[[m,i.settings.wa__session_path]]),e("div",Ta,u(i.errorsField.whatsapp_session_path.join(",")),1)])],2),e("form-group",Sa,[Ua,e("div",xa,[e("label",Ma,[d(e("input",{type:"checkbox",id:"wa__record_inbox",class:"sf",value:"yes","onUpdate:modelValue":o[30]||(o[30]=s=>i.settings.wa__record_inbox=s)},null,512),[[w,i.settings.wa__record_inbox]]),Ba]),Ia])])])])])]),e("setting",La,[Pa,e("div",Fa,[e("sub-setting",null,[Va,e("div",za,[e("form-group",Ea,[$a,e("div",Da,[e("label",ja,[d(e("input",{type:"checkbox",id:"wbh__enabled",class:"sf",value:"yes","onUpdate:modelValue":o[31]||(o[31]=s=>i.settings.wbh__enabled=s)},null,512),[[w,i.settings.wbh__enabled]]),Ha]),Na])]),e("form-group",{id:"wbh__url_wrap",class:c(["form-group",{"is-invalid":i.errorsField.webhook_url.length>0}])},[Ka,e("div",Ra,[d(e("input",{type:"text",name:"wbh__url",id:"wbh__url",class:"form-control sf","onUpdate:modelValue":o[32]||(o[32]=s=>i.settings.wbh__url=s)},null,512),[[m,i.settings.wbh__url]]),e("div",Oa,u(i.errorsField.webhook_url.join(",")),1)])],2),e("form-group",Ga,[qa,e("div",Ja,[d(e("input",{type:"text",name:"wbh__header_key",id:"wbh__header_key",class:"form-control sf","onUpdate:modelValue":o[33]||(o[33]=s=>i.settings.wbh__header_key=s)},null,512),[[m,i.settings.wbh__header_key]]),Wa])]),e("form-group",Qa,[Ya,e("div",Za,[d(e("input",{type:"text",name:"wbh__header_value",id:"wbh__header_value",class:"form-control sf","onUpdate:modelValue":o[34]||(o[34]=s=>i.settings.wbh__header_value=s)},null,512),[[m,i.settings.wbh__header_value]]),Xa])])])])])])],32),e("div",er,[e("button",{class:"btn btn-success",onClick:o[36]||(o[36]=v((...s)=>a.saveSettings&&a.saveSettings(...s),["prevent"]))},"Save settings")])])):h("",!0),i.tabContent=="security"?(r(),l("div",or,[e("setting",tr,[ir,e("div",sr,[e("form-group",{id:"sec__app_login_wrap",class:c(["form-group",{"is-invalid":i.errorsLogin.login.length>0}])},[nr,e("div",ar,[d(e("input",{type:"text",name:"sec__app_login",id:"sec__app_login",class:"form-control sf","onUpdate:modelValue":o[37]||(o[37]=s=>i.settings.sec__app_login=s)},null,512),[[m,i.settings.sec__app_login]]),e("div",rr,u(i.errorsLogin.login.join(",")),1)])],2),e("form-group",{id:"sec__app_password_wrap",class:c(["form-group",{"is-invalid":i.errorsLogin.password.length>0}])},[lr,e("div",pr,[d(e("input",{type:"password",name:"sec__app_password",id:"sec__app_password",class:"form-control sf","onUpdate:modelValue":o[38]||(o[38]=s=>i.settings.sec__app_password=s)},null,512),[[m,i.settings.sec__app_password]]),e("div",dr,u(i.errorsLogin.password.join(",")),1)])],2),e("div",cr,[e("button",{class:"btn btn-success",onClick:o[39]||(o[39]=v((...s)=>a.saveNewLogin&&a.saveNewLogin(...s),["prevent"]))},"Save login")])])])])):h("",!0),i.tabContent=="api"?(r(),l("div",ur,[e("setting",_r,[hr,e("div",mr,[e("sub-setting",null,[e("div",vr,[e("form-info",gr,[d(e("input",{type:"hidden",name:"sec_new_apikey","onUpdate:modelValue":o[40]||(o[40]=s=>i.settings.new_api_key=s)},null,512),[[m,i.settings.new_api_key]]),e("div",fr,[e("span",br,u(a.apiKeyDispay),1),e("span",yr,[e("a",{href:"#",onClick:o[41]||(o[41]=v(s=>a.copyTextToClipboard(i.settings.sec__api_key),["prevent"]))},"copy"),e("a",{href:"#",onClick:o[42]||(o[42]=v((...s)=>a.changeMaskApi&&a.changeMaskApi(...s),["prevent"]))},[i.ui.apikeyMasked?(r(),l("span",wr,"Show")):h("",!0),i.ui.apikeyMasked?h("",!0):(r(),l("span",Ar,"Hide"))])])])])]),e("div",kr,[e("button",{class:"btn",onClick:o[43]||(o[43]=v((...s)=>a.generateApiKey&&a.generateApiKey(...s),["prevent"]))},"Generate API Key"),e("button",{class:"btn btn-success",onClick:o[44]||(o[44]=v((...s)=>a.saveApiKey&&a.saveApiKey(...s),["prevent"]))},"Save API Key")])])])])])):h("",!0)])}var Tr=y(as,[["render",Cr]]);const Sr={};function Ur(t,o,n,p,i,a){return null}var xr=y(Sr,[["render",Ur]]);const Mr={data(){return{page:"index",rule:null,rules:[],formId:0,formStatus:"active",advanceToggle:!1,form:{title:"",description:"",trigger_text:"",response_template:"",response_action:"auto_reply",recipient:"sender",enabled:!0,webhook_url:""},hasError:!1,errorMsg:""}},computed:{},methods:{selectItem(t,o){this.page="update",this.rule=this.rules[o],this.form.title=this.rules[o].title,this.form.trigger_text=this.rules[o].trigger_text,this.form.response_template=this.rules[o].response_template,this.form.webhook_url=this.rules[o].webhook_url,this.formId=this.rules[o].id,this.formStatus=this.rules[o].enabled?"active":"draft"},resetRule(){this.formId=0,this.formStatus="active",this.form={title:"",description:"-",trigger_text:"",response_template:"",response_action:"auto_reply",recipient:"sender",enabled:!0}},clearError(){this.hasError=!1,this.errorMsg=""},showPage(t){this.page=t,t=="new"?(this.resetRule(),this.clearError()):t=="index"&&(this.clearError(),this.resetRule())},getIndex(){let t=A.getBaseApiURL()+"/v1/autoresponse",o=A.getApiKey();fetch(t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}}).then(n=>n.json()).then(function(n){if(console.log(n),n.code==200){let p=n.data;p==null&&(p=[]),this.rules=p}}.bind(this))},createRule(){document.querySelector(".btn-save-rule").html="Loading",console.log("Create rule");let t=A.getBaseApiURL()+"/v1/autoresponse/",o=A.getApiKey();fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o},body:JSON.stringify(this.form)}).then(n=>n.json()).then(function(n){document.querySelector(".btn-save-rule").html="Save",n.code==400?(this.hasError=!0,this.errorMsg=n.message,b({text:n.message,className:"warning",style:{background:"#dc3545"}}).showToast()):n.code==200?(this.formId=n.data.id,this.getIndex(),b({text:"Success",className:"info",style:{background:"#198754"}}).showToast()):b({text:"Save data failed",className:"warning",style:{background:"#dc3545"}}).showToast()}.bind(this))},updateRule(){console.log("Update rule"),document.querySelector(".btn-save-rule").html="Loading";let t=A.getBaseApiURL()+"/v1/autoresponse/"+this.formId,o=A.getApiKey();fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o},body:JSON.stringify(this.form)}).then(n=>n.json()).then(function(n){document.querySelector(".btn-save-rule").html="Update",n.code==400?(this.hasError=!0,this.errorMsg=n.message,b({text:n.message,className:"warning",style:{background:"#dc3545"}}).showToast()):n.code==200?(this.getIndex(),b({text:"Success",className:"info",style:{background:"#198754"}}).showToast()):b({text:"Save data failed",className:"warning",style:{background:"#dc3545"}}).showToast()}.bind(this))}},watch:{formStatus:function(t,o){console.log(t),t!==o&&(this.form.enabled=t=="active")},advanceToggle:function(t,o){let n=t==!0?"yes":"no";window.localStorage.setItem("_page-autoreponse-advanced",n)}},mounted(){document.body.className="page-auto-reply",this.page="index",this.getIndex();let t=window.localStorage.getItem("_page-autoreponse-advanced");if(t!==null){let o=t=="yes";this.advanceToggle=o}}},Br={class:"dasboard-header"},Ir={class:"wrap"},Lr={key:0,class:"label"},Pr={key:1,class:"label"},Fr=e("span",{class:"ion-md-chevron-back"},null,-1),Vr=S(" Back"),zr=[Fr,Vr],Er={class:"action"},$r={class:"dasboard-body"},Dr={key:0,class:"error-bar"},jr={class:"error warning"},Hr={key:1,class:"rules-index"},Nr={key:0,class:"rule-wrap"},Kr={class:"col"},Rr={class:"col"},Or={key:0,class:"ion-md-checkbox"},Gr={key:1,class:"ion-md-checkbox-outline"},qr={class:"col"},Jr={class:"col"},Wr=["onClick"],Qr={key:1,class:"rule-wrap empty"},Yr=M('<div class="image-empty-wrap"><svg data-name="Layer 1" version="1.1" viewBox="0 0 966 727.78" xmlns="http://www.w3.org/2000/svg"><g transform="translate(-1.2942e-5 -3.5898e-5)"><g transform="matrix(.81721 0 0 .74912 176.58 91.293)"><path transform="translate(-117 -86.111)" d="m844 259.06h-3.9988v-109.55a63.402 63.402 0 0 0-63.402-63.402h-232.09a63.402 63.402 0 0 0-63.402 63.402v600.97a63.402 63.402 0 0 0 63.402 63.402h232.09a63.402 63.402 0 0 0 63.402-63.402v-413.45h3.9988z" fill="#3f3d56"></path><path transform="translate(-117 -86.111)" d="m779.15 102.61h-30.295a22.495 22.495 0 0 1-20.827 30.991h-132.96a22.495 22.495 0 0 1-20.827-30.991h-28.296a47.348 47.348 0 0 0-47.348 47.348v600.09a47.348 47.348 0 0 0 47.348 47.348h233.2a47.348 47.348 0 0 0 47.348-47.348v-600.09a47.348 47.348 0 0 0-47.348-47.348z" fill="#fff"></path><ellipse cx="593.86" cy="272.71" rx="42" ry="4" fill="#e6e6e6"></ellipse><polygon points="627.19 226.8 966 226.8 966 99.868 579.35 99.868 579.35 226.8 593.99 226.8 593.99 260" fill="#6c63ff"></polygon><rect x="622.38" y="142.85" width="175.82" height="5.3357" fill="#fff"></rect><rect x="622.38" y="161.31" width="306.44" height="5.3357" fill="#fff"></rect><rect x="622.38" y="179.77" width="306.14" height="5.3357" fill="#fff"></rect><polygon points="596.77 584.03 867.22 584.03 867.22 482.71 558.58 482.71 558.58 584.03 570.27 584.03 570.27 610.53" fill="#6c63ff"></polygon><rect x="592.93" y="517.02" width="140.35" height="4.2592" fill="#fff"></rect><rect x="592.93" y="531.75" width="244.61" height="4.2592" fill="#fff"></rect><rect x="592.93" y="546.49" width="244.37" height="4.2592" fill="#fff"></rect><ellipse cx="570.16" cy="620.67" rx="33.526" ry="3.1929" fill="#e6e6e6"></ellipse><ellipse cx="477.86" cy="420.71" rx="42" ry="4" fill="#e6e6e6"></ellipse><polygon points="458.7 388.16 220.44 388.16 220.44 298.89 492.34 298.89 492.34 388.16 482.04 388.16 482.04 411.5" fill="#6c63ff"></polygon><rect x="248.64" y="328.44" width="123.64" height="3.7523" fill="#fff"></rect><rect x="248.64" y="341.42" width="215.5" height="3.7523" fill="#fff"></rect><rect x="248.64" y="354.4" width="215.29" height="3.7523" fill="#fff"></rect></g><path transform="translate(-117 -86.111)" d="m426.27 813.89h-308.02a1.2521 1.2521 0 0 1 0-2.5042h308.02a1.2521 1.2521 0 0 1 0 2.5042z" fill="#ccc"></path><g transform="matrix(-.9978 -.066303 -.066303 .9978 1076.9 193.44)"><path transform="translate(-108.07 -156.98)" d="m927.31 738.27c-8.9926-7.5986-14.455-19.602-13.022-31.288s10.305-22.428 21.813-24.91 24.628 4.3877 28.123 15.63c1.9238-21.674 4.1406-44.257 15.664-62.715 10.434-16.713 28.507-28.672 48.093-30.811 19.586-2.1395 40.208 5.941 52.424 21.4s15.206 37.934 6.6509 55.682c-6.3024 13.075-17.914 22.805-30.079 30.721a194.13 194.13 0 0 1-132.77 29.046" fill="#f2f2f2"></path><path transform="translate(-108.07 -156.98)" d="m1061 610.57a317.62 317.62 0 0 0-44.264 43.954 318.55 318.55 0 0 0-49.856 83.314c-0.89773 2.1999 2.6745 3.1575 3.5623 0.98207a316.76 316.76 0 0 1 93.17-125.64c1.8443-1.5018-0.7831-4.1016-2.6122-2.6122z" fill="#fff"></path><circle cx="815.69" cy="185.44" r="26.239" fill="#ffb8b8"></circle><polygon points="737.49 572.02 725.01 568.04 734.41 518.02 752.83 523.89" fill="#ffb8b8"></polygon><path transform="matrix(.95277 .30368 -.30368 .95277 151.97 -373.86)" d="m822.07 719.66h25.854v15.904h-41.163v-0.59467a15.309 15.309 0 0 1 15.309-15.309z" fill="#2f2e41"></path><polygon points="828.28 571.76 815.18 571.76 808.95 521.24 828.28 521.24" fill="#ffb8b8"></polygon><path d="m805.23 568.02h25.854v15.904h-41.163v-0.59467a15.309 15.309 0 0 1 15.309-15.309z" fill="#2f2e41"></path><path transform="translate(-108.07 -156.98)" d="m935.96 712.35-4.4204-0.65967c-13.407-1.9976-14.21-2.1172-16.338-3.0518-1.0869-0.47754-1.1633-7.6934-0.51074-48.256 0.47876-29.774 1.075-66.83-0.0825-86.723a3.4994 3.4994 0 0 0-6.7031-1.1807c-9.9756 23.037-26.712 74.59-37.787 108.7-3.8523 11.867-6.895 21.239-8.8201 26.857a4.5238 4.5238 0 0 1-5.3535 2.898c-9.114-2.2783-8.5046-3.2471-21.486-6.6045a4.4888 4.4888 0 0 1-3.2817-5.2817c2.3479-11.072 45.314-190.6 48.603-207.67a4.5017 4.5017 0 0 1 5.3052-3.5718c9.6738 1.9492 15.559 4.0171 25.119 6.0166 10.315 2.1577 20.982 4.3892 31.386 6.4717a4.4628 4.4628 0 0 1 2.6192 1.6055c2.5745 3.2515 6.3918 5.0767 10.434 7.0088 2.7248 1.3027-3.4497 1.1853-1.0767 3.064 9.6099 7.6074-4.2095 162.09-12.56 196.98a4.5151 4.5151 0 0 1-5.0474 3.3906z" fill="#2f2e41"></path><path transform="translate(-108.07 -156.98)" d="m928.05 537.26a9.4974 9.4974 0 0 1 8.8963-11.53l21.208-23.938 13.17 15.91-24.389 17.817a9.5488 9.5488 0 0 1-18.885 1.7403z" fill="#ffb8b8"></path><path transform="translate(-108.07 -156.98)" d="m934.94 365.37c-1.5319-6.5001 6.2122-20.487 4.6803-26.987-1.0374-4.402-11.389-1.4096-13.804-5.233s-6.4618-6.9209-10.984-6.9717c-5.198-0.0583-10.313 3.7975-15.237 2.131-4.9787-1.685-6.57-8.5029-4.3689-13.276s6.9428-7.8145 11.627-10.198c7.9775-4.0585 17.266-7.0222 25.805-4.337 5.1614 1.6232 9.477 5.1403 13.653 8.5803 3.8069 3.1357 7.6779 6.3425 10.339 10.495 5.2134 8.1348 4.8989 19.096 0.44363 27.669s-12.573 14.865-21.519 18.517" fill="#2f2e41"></path><path transform="translate(-108.07 -156.98)" d="m870.51 516.64c2.832-4.731 7.1316-26.897 12.434-64.104 3.6099-25.399 6.7551-51.206 8.3157-64.389a6.3387 6.3387 0 0 1 3.5596-5.0015q1.519-0.73316 3.02-1.3877c12.923-5.6211 26.02-7.4834 38.924-5.5361a70.619 70.619 0 0 1 34.919 15.911l0.11743 0.11084 0.0303 0.15821c0.0562 0.293 5.4758 29.498-5.625 49.229-10.948 19.469-11.076 71.026-11.076 71.545v0.6626l-0.63745-0.18164c-17.032-4.8667-82.825 3.6475-83.488 3.7344l-1.0244 0.13379z" fill="#ccc"></path><path transform="translate(-108.07 -156.98)" d="m940.4 520.6 33.457-44.609-17.252-36.97 1.2527-43.846 14.144-2.6133 0.1499 0.0752a35.606 35.606 0 0 1 15.128 17.625c3.1418 7.8555 9.6589 34.581 14.573 55.618a32.501 32.501 0 0 1-8.7229 30.558l-41.042 41.043z" fill="#ccc"></path><path transform="translate(-108.07 -156.98)" d="m799.95 432.19a9.4974 9.4974 0 0 1 14.513-1.2105l31.977-0.49249-2.8612 20.455-29.605-5.985a9.5488 9.5488 0 0 1-14.024-12.767z" fill="#ffb8b8"></path><path transform="translate(-108.07 -156.98)" d="m816 450.08 4.574-20.016 55.5-5.3955 15.215-36.592 0.44531-1.0806 5.9797-5.1572 0.12719-0.0801c12.923-5.6206 26.019-7.4829 38.925-5.5361l0.45313 0.0688-0.0288 0.457a36.048 36.048 0 0 1-3.5388 13.486c-5.7412 11.908-41.064 62.529-41.42 63.039l-0.15747 0.22559z" fill="#ccc"></path></g></g></svg></div><p>Create an autoreply by clicking the button below</p>',2),Zr={key:2,class:"rules-item update"},Xr={class:"heading"},el={key:0},ol={key:1},tl={key:2,id:"advanced-mode",class:"form-group has-switch"},il=e("label",{for:"form-advanced"},"Advanced",-1),sl={class:"body"},nl={class:"switch switch-sm"},al=e("span",{class:"slider"},null,-1),rl=e("div",{class:"desc"},null,-1),ll={class:"rule-wrap"},pl={class:"form-group"},dl=e("label",null,"Title",-1),cl={class:"form-group"},ul=e("label",null,"Trigger text",-1),_l={class:"form-group"},hl=e("label",null,"Template",-1),ml=e("div",{class:"help-box"},[S(" Shortcode: "),e("code",null,"{jid}"),S(", "),e("code",null,"{user_id}"),S(", "),e("code",null,"{phone}"),S(", "),e("code",null,"{name}*")],-1),vl={class:"form-group"},gl=e("label",null,"Status",-1),fl=e("option",{value:"active"},"Active",-1),bl=e("option",{value:"draft"},"Draft",-1),yl=[fl,bl],wl={key:0,class:"form-group"},Al=e("label",null,"Send message to webhook url (optional)",-1),kl={class:"action-bar"};function Cl(t,o,n,p,i,a){return r(),l("section",{class:c(["page-autoreply",{index:i.page=="index",item:i.page!=="index"}])},[e("header",Br,[e("div",Ir,[i.page=="index"?(r(),l("span",Lr,"Auto reply")):h("",!0),i.page!=="index"?(r(),l("span",Pr,[e("a",{href:"#",onClick:o[0]||(o[0]=v(s=>a.showPage("index"),["prevent"]))},zr)])):h("",!0),e("div",Er,[e("button",{class:"btn btn-add-rule",onClick:o[1]||(o[1]=v(s=>a.showPage("new"),["prevent"]))},"Add rule")])])]),e("div",$r,[i.hasError?(r(),l("div",Dr,[e("div",jr,u(i.errorMsg),1)])):h("",!0),i.page=="index"?(r(),l("div",Hr,[i.rules.length>0?(r(),l("div",Nr,[(r(!0),l(k,null,C(i.rules,(s,g)=>(r(),l("div",{class:c(["entry",{enabled:s.enabled,disabled:!s.enabled}])},[e("div",Kr,u(s.title),1),e("div",Rr,[s.enabled?(r(),l("span",Or)):h("",!0),s.enabled?h("",!0):(r(),l("span",Gr))]),e("div",qr,u(s.trigger_text),1),e("div",Jr,[e("a",{href:"#",class:"action-open",onClick:v(_=>a.selectItem(s.id,g),["prevent"])},"Open",8,Wr)])],2))),256))])):h("",!0),i.rules.length==0?(r(),l("div",Qr,[Yr,e("p",null,[e("button",{class:"btn btn-add-rule",onClick:o[2]||(o[2]=v(s=>a.showPage("new"),["prevent"]))},"Add auto reply")])])):h("",!0)])):h("",!0),i.rule!==null&&i.page=="update"||i.page=="new"?(r(),l("div",Zr,[e("div",Xr,[i.page=="update"?(r(),l("h4",el,"Update autoreply")):h("",!0),i.page=="new"?(r(),l("h4",ol,"Create autoreply")):h("",!0),t.$store.state.engineBuildVersion>=2310?(r(),l("form-group",tl,[il,e("div",sl,[e("label",nl,[d(e("input",{type:"checkbox",id:"form-advanced",class:"sf",value:"yes","onUpdate:modelValue":o[3]||(o[3]=s=>i.advanceToggle=s)},null,512),[[w,i.advanceToggle]]),al]),rl])])):h("",!0)]),e("div",ll,[e("div",pl,[dl,d(e("input",{type:"text",name:"title",class:"form-control","onUpdate:modelValue":o[4]||(o[4]=s=>i.form.title=s),onKeydown:o[5]||(o[5]=(...s)=>a.clearError&&a.clearError(...s))},null,544),[[m,i.form.title]])]),e("div",cl,[ul,d(e("input",{type:"text",name:"trigger",class:"form-control","onUpdate:modelValue":o[6]||(o[6]=s=>i.form.trigger_text=s),onKeydown:o[7]||(o[7]=(...s)=>a.clearError&&a.clearError(...s))},null,544),[[m,i.form.trigger_text]])]),e("div",_l,[hl,d(e("textarea",{name:"title",class:"form-control message-template","onUpdate:modelValue":o[8]||(o[8]=s=>i.form.response_template=s),onKeydown:o[9]||(o[9]=(...s)=>a.clearError&&a.clearError(...s))},null,544),[[m,i.form.response_template]]),ml]),e("div",vl,[gl,d(e("select",{"onUpdate:modelValue":o[10]||(o[10]=s=>i.formStatus=s),class:"form-control"},yl,512),[[P,i.formStatus]])]),t.$store.state.engineBuildVersion>=2310&&i.advanceToggle==!0?(r(),l("div",wl,[Al,d(e("input",{type:"text",name:"webhook_url",class:"form-control","onUpdate:modelValue":o[11]||(o[11]=s=>i.form.webhook_url=s),onKeydown:o[12]||(o[12]=(...s)=>a.clearError&&a.clearError(...s))},null,544),[[m,i.form.webhook_url]])])):h("",!0),e("div",kl,[i.page=="update"?(r(),l("button",{key:0,class:"btn btn-save-rule",onClick:o[13]||(o[13]=v((...s)=>a.updateRule&&a.updateRule(...s),["prevent"]))},"Update")):h("",!0),i.page=="new"?(r(),l("button",{key:1,class:"btn btn-save-rule",onClick:o[14]||(o[14]=v((...s)=>a.createRule&&a.createRule(...s),["prevent"]))},"Save")):h("",!0)])])])):h("",!0)])],2)}var Tl=y(Mr,[["render",Cl]]);const Sl={},Ul={class:"about"},xl=e("h1",null,"Campaign index",-1),Ml=[xl];function Bl(t,o){return r(),l("div",Ul,Ml)}var Il=y(Sl,[["render",Bl]]);const Ll={},Pl={class:"about"},Fl=e("h1",null,"Campaign Item",-1),Vl=[Fl];function zl(t,o){return r(),l("div",Pl,Vl)}var El=y(Ll,[["render",zl]]);const $l={},Dl={class:"about"},jl=e("h1",null,"Message template",-1),Hl=[jl];function Nl(t,o){return r(),l("div",Dl,Hl)}var Kl=y($l,[["render",Nl]]);const Rl={},Ol={class:"about"},Gl=e("h1",null,"Message template",-1),ql=[Gl];function Jl(t,o){return r(),l("div",Ol,ql)}var Wl=y(Rl,[["render",Jl]]);const Ql=E({history:$("/"),routes:[{path:"/",name:"home",component:Vi},{path:"/message",name:"message",component:ns},{path:"/setting",name:"setting",component:Tr},{path:"/profile",name:"profile",component:xr},{path:"/autoresponse",name:"autoresponse",component:Tl},{path:"/campaign",name:"campaignIndex",component:Il},{path:"/campaign/:id",name:"campaignItem",component:El},{path:"/template",name:"templateIndex",component:Kl},{path:"/template/:id",name:"templateItem",component:Wl}]});var Yl=D({state:{versi:"2.0.30",buildDate:"30.10.22",engineVersion:"",engineBuildVersion:0,api_url:"",api_key:"",UI:{commandsLoading:{restartSender:!1,restartServer:!1,disconnect:!1,pause:!1,clearPendingMessage:!1}},feeds:{is_multidevice:!1,license_owner:{email:"",image:"",name:""},phone:"",sender_pause:!1,sender_status:"pending",sender_type:"legacy",stats:{contacts:0,message_error:0,message_pending:0,message_sent:0,message_sent_today:0,message_total:0},status:"offline",update_hash:{contacts:"1",messages:"1",online_status:"1",settings:"1"}},contacts:[],settings:{sec__app_password:"",sec__api_key:"",new_api_key:"no"}},mutations:{UPDATE_UI_COMMANDS(t,o){console.log(o);let n=o.key;switch(o.key){case"disconnect_sender":n="disconnect";break;case"pause_sender":n="pause";break;case"start_sender":n="pause",o.value=!1;break;case"stop_sender":n="restartSender";break;case"stop_server":n="restartServer";break}t.UI.commandsLoading[n]=o.value},UPDATE_DATA(t,o){let n=o.key;t[n]=o.value},UPDATE_FEEDS(t,o){t.api_url=o.api_url,t.api_key=o.api_key,t.feeds=o,"version"in o&&(t.engineVersion=o.version),"build_version"in o&&(t.engineBuildVersion=o.build_version)},UPDATE_SETTINGS(t,o){t.settings=o}},actions:{updateUICommands(t,o){t.commit("UPDATE_UI_COMMANDS",o)},updateData(t,o){t.commit("UPDATE_DATA",o)},loadFeeds(t,o){t.commit("UPDATE_FEEDS",o)},loadSettings(t,o){t.commit("UPDATE_SETTINGS",o)}},getters:{isOnline:function(t){return t.status=="online"},onlineStatus:function(t){return t.status},engineBuildVersion(t){return"engineBuildVersion"in t?t.engineBuildVersion:2200},engineVersion(t){return"engineVersion"in t?t.engineVersion:"2.2.0"}}});const B=j(Zo);B.use(Yl);B.use(Ql);B.use(H);B.mount("#app");
